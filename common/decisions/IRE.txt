###########################
# Irish Decisions, by IknowSHall and TheSussyOne
###########################

ww1_easter_uprising_cat = {
	ww1_easter_uprising_mission = {
		fire_only_once = yes
		activation = {
			always = no
		}
		allowed = {
			tag = eng
			tag = ger
		}
		available = {
			NOT = {
				ENG = {
					has_war_with = GER
				}
			}
		}
		icon = GFX_decision_generic_prepare_civil_war
		is_good = yes
		days_mission_timeout = 630
		complete_effect = {

		}
		timeout_effect = {
			#Historical, British quell rebbelion
			IF = {
				limit = {
					tag = ENG
				}
				IF = {
					limit = {
						check_variable = {
							global.easter_uprising_total_readiness < 50
						}
					}
					custom_effect_tooltip = easter_uprising_if_below_50
					ENG = {
						country_event = ww1_easter_uprising.2
					}
					custom_effect_tooltip = easter_uprising_if_above_50
					effect_tooltip = {
						ENG = {
							country_event = ww1_easter_uprising.3
						}
					}
				}
				#Irish rise up
				else_if = {
					limit = {
						check_variable = {
							global.easter_uprising_total_readiness > 49
						}
					}
					custom_effect_tooltip = easter_uprising_if_below_50
					effect_tooltip = {
						ENG = {
							country_event = ww1_easter_uprising.2
						}
					}
					custom_effect_tooltip = easter_uprising_if_above_50
					ENG = {
						country_event = ww1_easter_uprising.3
					}
				}
			}
			else_if = {
				limit = {
					tag = GER
				}
				effect_tooltip = {
					IF = {
						limit = {
							check_variable = {
								global.easter_uprising_total_readiness < 50
							}
						}
						custom_effect_tooltip = easter_uprising_if_below_50
						ENG = {
							country_event = ww1_easter_uprising.2
						}
						custom_effect_tooltip = easter_uprising_if_above_50
						effect_tooltip = {
							ENG = {
								country_event = ww1_easter_uprising.3
							}
						}
					}
					#Irish rise up
					else_if = {
						limit = {
							check_variable = {
								global.easter_uprising_total_readiness > 49
							}
						}
						custom_effect_tooltip = easter_uprising_if_below_50
						effect_tooltip = {
							ENG = {
								country_event = ww1_easter_uprising.2
							}
						}
						custom_effect_tooltip = easter_uprising_if_above_50
						ENG = {
							country_event = ww1_easter_uprising.3
						}
					}
				}
			}
		}
	}
	ww1_rebbelion_development_mission = {
		activation = {
			always = no
		}
		allowed = {
			tag = ENG
		}
		available = {
			NOT = {
				ENG = {
					has_war_with = GER
				}
			}
		}
		icon = GFX_decision_generic_nationalism
		is_good = yes
		days_mission_timeout = 35
		timeout_effect = {
			custom_effect_tooltip = IRE_increase_irish_organization_mission
			add_to_variable = {
				var = global.easter_uprising_irish_organization
				value = 0.0025
			}
			clamp_variable = {
				var = global.easter_uprising_irish_organization
				min = 0
				max = 1.0
			}
			custom_effect_tooltip = IRE_increase_british_awareness_mission
			subtract_from_variable = {
				var = global.easter_uprising_british_awareness
				value = 0.005
			}
			clamp_variable = {
				var = global.easter_uprising_british_awareness
				min = 0
				max = 1.0
			}
			total_readiness_calulation = yes
			hidden_effect = {
				activate_mission = ww1_rebbelion_development_mission
			}
		}
	}
	#British Decisions
	ww1_patrol_irish_ports = {
		allowed = {
			tag = ENG
		}
        available = {
			ENG = {
				has_war_with = GER
				owns_state = 113
				owns_state = 135
				owns_state = 134
				owns_state = 119
			}
        }
		visible = {
			tag = ENG
			has_global_flag = GER_supported_easter_uprising
		}
		cost = 25
        icon = GFX_decision_generic_arrest
        fire_only_once = yes
        days_remove = 40
        remove_effect = {
			country_event = ww1_easter_uprising.5
        }
        cancel_trigger = {
			NOT = {
				ENG = {
					has_war_with = GER
				}
				ENG = {
					owns_state = 113
					owns_state = 135
					owns_state = 134
					owns_state = 119
				}
			}
        }
    }
	#German Decisions
	ww1_support_irish_rebels = {
		allowed = {
			tag = GER
		}
        available = {
			ENG = {
				has_war_with = GER
				owns_state = 113
				owns_state = 135
				owns_state = 134
				owns_state = 119
			}
			custom_trigger_tooltip = {
				tooltip = IRE_german_support_under_75
				if = {
					limit = {
						check_variable = {
							global.easter_uprising_german_support > 75
						}
					}
					always = no
				}
			}
			NOT = {
				check_variable = {
					global.easter_uprising_german_support > 75
				}
			}
        }
		visible = {
			tag = GER
			has_global_flag = GER_supported_easter_uprising
		}
		cost = 40
        icon = GFX_decision_generic_operation
        fire_only_once = yes
        days_remove = 70
        remove_effect = {
			country_event = ww1_easter_uprising.6
        }
        cancel_trigger = {
			NOT = {
				ENG = {
					has_war_with = GER
				}
				ENG = {
					owns_state = 113
					owns_state = 135
					owns_state = 134
					owns_state = 119
				}
			}
			check_variable = {
				global.easter_uprising_german_support > 75
			}
        }
    }
	ww1_push_for_a_german_king = {
		allowed = {
			tag = GER
		}
        available = {
			ENG = {
				has_war_with = GER
				owns_state = 113
				owns_state = 135
				owns_state = 134
				owns_state = 119
			}
			custom_trigger_tooltip = {
				tooltip = IRE_german_support_over_70
				if = {
					limit = {
						check_variable = {
							global.easter_uprising_german_support < 70
						}
					}
					always = no
				}
			}
			check_variable = {
				global.easter_uprising_german_support > 69
			}
        }
		visible = {
			tag = GER
			has_global_flag = GER_supported_easter_uprising
		}
		cost = 60
        icon = GFX_decision_generic_operation
        fire_only_once = yes
        remove_effect = {
			set_global_flag = IRE_german_king_demanded
			#Remove this flag when Ireland gets event after spawning
			#Event to be made later when work is made on the tag
        }
        cancel_trigger = {
			NOT = {
				ENG = {
					has_war_with = GER
				}
				ENG = {
					owns_state = 113
					owns_state = 135
					owns_state = 134
					owns_state = 119
				}
			}
			check_variable = {
				global.easter_uprising_german_support < 70
			}
        }
    }
}