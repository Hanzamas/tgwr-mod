USA_monopoly_clear_all = {
	remove_ideas = {
		USA_company_monopolies25
		USA_company_monopolies24
		USA_company_monopolies23
		USA_company_monopolies22
		USA_company_monopolies21
		USA_company_monopolies20
		USA_company_monopolies19
		USA_company_monopolies18
		USA_company_monopolies17
		USA_company_monopolies16
		USA_company_monopolies15
		USA_company_monopolies14
		USA_company_monopolies13
		USA_company_monopolies12
		USA_company_monopolies11
		USA_company_monopolies10
		USA_company_monopolies9
		USA_company_monopolies8
		USA_company_monopolies7
		USA_company_monopolies6
		USA_company_monopolies5
		USA_company_monopolies4
		USA_company_monopolies3
		USA_company_monopolies2
		USA_company_monopolies1
	}
}

USA_consumer_economy_improve = {
	if = {
		limit = {
			has_idea = USA_consumer_based_economy_worse
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy_worse
			add_idea = USA_consumer_based_economy
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy
			add_idea = USA_consumer_based_economy1
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy1
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy1
			add_idea = USA_consumer_based_economy2
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy2
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy2
			add_idea = USA_consumer_based_economy3
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy3
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy3
			add_idea = USA_consumer_based_economy4
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy4
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy4
			add_idea = USA_consumer_based_economy5
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy5
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy5
			add_idea = USA_consumer_based_economy6
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy6
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy6
			add_idea = USA_consumer_based_economy7
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy7
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy7
			add_idea = USA_consumer_based_economy8
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy8
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy8
			add_idea = USA_consumer_based_economy9
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy9
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy9
			add_idea = USA_consumer_based_economy10
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy10
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy10
			add_idea = USA_consumer_based_economy11
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy11
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy11
			add_idea = USA_consumer_based_economy12
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy12
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy12
			add_idea = USA_consumer_based_economy13
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy13
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy13
			add_idea = USA_consumer_based_economy14
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy14
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy14
			add_idea = USA_consumer_based_economy15
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy15
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy15
			add_idea = USA_consumer_based_economy16
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy16
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy16
			add_idea = USA_consumer_based_economy17
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy17
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy17
			add_idea = USA_consumer_based_economy18
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy18
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy18
			add_idea = USA_consumer_based_economy19
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy19
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy19
			add_idea = USA_consumer_based_economy20
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy20
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy20
			add_idea = USA_consumer_based_economy21
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy21
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy21
			add_idea = USA_consumer_based_economy22
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy22
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy22
			add_idea = USA_consumer_based_economy23
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy23
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy23
			add_idea = USA_consumer_based_economy24
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy24
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy24
			add_idea = USA_consumer_based_economy25
		}
	}
}

set_variable = {
	var = USA_army_planning_factor
	value = -20
}

set_variable = {
	var = USA_army_speed_factor
	value = -20
}

set_variable = {
	var = USA_army_experience_gain_factor
	value = 0
}

set_variable = {
	var = USA_army_recruit_pop_factor
	value = -40
}

set_variable = {
	var = USA_army_initiative_factor
	value = 0
}

set_variable = {
	var = USA_army_morale_factor
	value = 0
}

USA_klan_improve = {
	if = {
		limit = {
			has_idea = USA_klan_10
		}
		swap_ideas = {
			remove_idea = USA_klan_10
			add_idea = USA_klan_9
		}
	}
	if = {
		limit = {
			has_idea = USA_klan_9
		}
		swap_ideas = {
			remove_idea = USA_klan_9
			add_idea = USA_klan_8
		}
	}
	if = {
		limit = {
			has_idea = USA_klan_8
		}
		swap_ideas = {
			remove_idea = USA_klan_8
			add_idea = USA_klan_7
		}
	}
	if = {
		limit = {
			has_idea = USA_klan_7
		}
		swap_ideas = {
			remove_idea = USA_klan_7
			add_idea = USA_klan_6
		}
	}
	if = {
		limit = {
			has_idea = USA_klan_6
		}
		swap_ideas = {
			remove_idea = USA_klan_6
			add_idea = USA_klan_5
		}
	}
	if = {
		limit = {
			has_idea = USA_klan_5
		}
		swap_ideas = {
			remove_idea = USA_klan_5
			add_idea = USA_klan_4
		}
	}
	if = {
		limit = {
			has_idea = USA_klan_4
		}
		swap_ideas = {
			remove_idea = USA_klan_4
			add_idea = USA_klan_3
		}
	}
	if = {
		limit = {
			has_idea = USA_klan_3
		}
		swap_ideas = {
			remove_idea = USA_klan_3
			add_idea = USA_klan_2
		}
	}
	if = {
		limit = {
			has_idea = USA_klan_2
		}
		swap_ideas = {
			remove_idea = USA_klan_2
			add_idea = USA_klan_1
		}
	}
	if = {
		limit = {
			has_idea = USA_klan_1
		}
		remove_ideas = USA_klan_1
	}
}

USA_klan_decline = {
	if = {
		limit = {
			has_idea = USA_klan_1
		}
		swap_ideas = {
			remove_idea = USA_klan_1
			add_idea = USA_klan_2
		}
	}
	if = {
		limit = {
			has_idea = USA_klan_2
		}
		swap_ideas = {
			remove_idea = USA_klan_2
			add_idea = USA_klan_3
		}
	}
	if = {
		limit = {
			has_idea = USA_klan_3
		}
		swap_ideas = {
			remove_idea = USA_klan_3
			add_idea = USA_klan_4
		}
	}
	if = {
		limit = {
			has_idea = USA_klan_4
		}
		swap_ideas = {
			remove_idea = USA_klan_4
			add_idea = USA_klan_5
		}
	}
	if = {
		limit = {
			has_idea = USA_klan_5
		}
		swap_ideas = {
			remove_idea = USA_klan_5
			add_idea = USA_klan_6
		}
	}
	if = {
		limit = {
			has_idea = USA_klan_6
		}
		swap_ideas = {
			remove_idea = USA_klan_6
			add_idea = USA_klan_7
		}
	}
	if = {
		limit = {
			has_idea = USA_klan_7
		}
		swap_ideas = {
			remove_idea = USA_klan_7
			add_idea = USA_klan_8
		}
	}
	if = {
		limit = {
			has_idea = USA_klan_8
		}
		swap_ideas = {
			remove_idea = USA_klan_8
			add_idea = USA_klan_9
		}
	}
	if = {
		limit = {
			has_idea = USA_klan_9
		}
		swap_ideas = {
			remove_idea = USA_klan_9
			add_idea = USA_klan_10
		}
	}
}

USA_consumer_economy_worsen = {
	if = {
		limit = {
			has_idea = USA_consumer_based_economy3
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy3
			add_idea = USA_consumer_based_economy2
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy2
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy2
			add_idea = USA_consumer_based_economy1
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy1
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy1
			add_idea = USA_consumer_based_economy
		}
	}
	else_if = {
		limit = {
			has_idea = USA_consumer_based_economy
		}
		swap_ideas = {
			remove_idea = USA_consumer_based_economy
			add_idea = USA_consumer_based_economy_worse
		}
	}
}

USA_monopoly_reduction = {
	# level 5 not relevant. Cannot go above.
	if = {
		limit = {
			has_idea = USA_company_monopolies25
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies25
			add_idea = USA_company_monopolies24
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies24
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies24
			add_idea = USA_company_monopolies23
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies23
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies23
			add_idea = USA_company_monopolies22
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies22
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies22
			add_idea = USA_company_monopolies21
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies21
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies21
			add_idea = USA_company_monopolies20
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies20
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies20
			add_idea = USA_company_monopolies19
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies19
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies19
			add_idea = USA_company_monopolies18
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies18
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies18
			add_idea = USA_company_monopolies17
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies17
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies17
			add_idea = USA_company_monopolies16
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies16
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies16
			add_idea = USA_company_monopolies15
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies15
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies15
			add_idea = USA_company_monopolies14
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies14
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies14
			add_idea = USA_company_monopolies13
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies13
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies13
			add_idea = USA_company_monopolies12
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies12
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies12
			add_idea = USA_company_monopolies11
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies11
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies11
			add_idea = USA_company_monopolies10
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies10
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies10
			add_idea = USA_company_monopolies9
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies9
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies9
			add_idea = USA_company_monopolies8
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies8
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies8
			add_idea = USA_company_monopolies7
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies7
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies7
			add_idea = USA_company_monopolies6
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies6
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies6
			add_idea = USA_company_monopolies5
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies5
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies5
			add_idea = USA_company_monopolies4
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies4
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies4
			add_idea = USA_company_monopolies3
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies3
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies3
			add_idea = USA_company_monopolies2
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies2
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies2
			add_idea = USA_company_monopolies1
		}
	}
}

USA_monopoly_increase = {
	# level 5 not relevant. Cannot go above.
	if = {
		limit = {
			has_idea = USA_company_monopolies1
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies1
			add_idea = USA_company_monopolies2
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies2
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies2
			add_idea = USA_company_monopolies3
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies3
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies3
			add_idea = USA_company_monopolies4
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies4
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies4
			add_idea = USA_company_monopolies5
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies5
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies5
			add_idea = USA_company_monopolies6
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies6
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies6
			add_idea = USA_company_monopolies7
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies7
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies7
			add_idea = USA_company_monopolies8
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies8
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies8
			add_idea = USA_company_monopolies9
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies9
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies9
			add_idea = USA_company_monopolies10
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies10
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies10
			add_idea = USA_company_monopolies11
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies11
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies11
			add_idea = USA_company_monopolies12
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies12
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies12
			add_idea = USA_company_monopolies13
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies13
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies13
			add_idea = USA_company_monopolies14
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies14
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies14
			add_idea = USA_company_monopolies15
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies15
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies15
			add_idea = USA_company_monopolies16
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies16
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies16
			add_idea = USA_company_monopolies17
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies17
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies17
			add_idea = USA_company_monopolies18
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies18
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies18
			add_idea = USA_company_monopolies19
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies19
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies19
			add_idea = USA_company_monopolies20
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies20
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies20
			add_idea = USA_company_monopolies21
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies21
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies21
			add_idea = USA_company_monopolies22
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies22
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies22
			add_idea = USA_company_monopolies23
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies23
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies23
			add_idea = USA_company_monopolies24
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_monopolies24
		}
		swap_ideas = {
			remove_idea = USA_company_monopolies24
			add_idea = USA_company_monopolies25
		}
	}
}

USA_workers_rights_improve = {
	# level 5 not relevant. Cannot go above.
	if = {
		limit = {
			has_idea = USA_poor_labour_rightsbad2
		}
		swap_ideas = {
			remove_idea = USA_poor_labour_rightsbad2
			add_idea = USA_poor_labour_rightsbad1
		}
	}
	else_if = {
		limit = {
			has_idea = USA_poor_labour_rightsbad1
		}
		swap_ideas = {
			remove_idea = USA_poor_labour_rightsbad1
			add_idea = USA_poor_labour_rights
		}
	}
	else_if = {
		limit = {
			has_idea = USA_poor_labour_rights
		}
		swap_ideas = {
			remove_idea = USA_poor_labour_rights
			add_idea = USA_poor_labour_rights1
		}
	}
	else_if = {
		limit = {
			has_idea = USA_poor_labour_rights1
		}
		swap_ideas = {
			remove_idea = USA_poor_labour_rights1
			add_idea = USA_poor_labour_rights2
		}
	}
	else_if = {
		limit = {
			has_idea = USA_poor_labour_rights2
		}
		swap_ideas = {
			remove_idea = USA_poor_labour_rights2
			add_idea = USA_poor_labour_rights3
		}
	}
	else_if = {
		limit = {
			has_idea = USA_poor_labour_rights3
		}
		swap_ideas = {
			remove_idea = USA_poor_labour_rights3
			add_idea = USA_poor_labour_rights4
		}
	}
	else_if = {
		limit = {
			has_idea = USA_poor_labour_rights4
		}
		swap_ideas = {
			remove_idea = USA_poor_labour_rights4
			add_idea = USA_poor_labour_rights5
		}
	}
	else_if = {
		limit = {
			has_idea = USA_poor_labour_rights5
		}
		swap_ideas = {
			remove_idea = USA_poor_labour_rights5
			add_idea = USA_poor_labour_rights6
		}
	}
}

USA_alcohol_improve = {
	# level 5 not relevant. Cannot go above.
	if = {
		limit = {
			has_idea = USA_alcoholism
		}
		swap_ideas = {
			remove_idea = USA_alcoholism
			add_idea = USA_alcoholism2
		}
	}
	else_if = {
		limit = {
			has_idea = USA_alcoholism2
		}
		swap_ideas = {
			remove_idea = USA_alcoholism2
			add_idea = USA_alcoholism3
		}
	}
}

USA_workers_rights_worsen = {
	if = {
		limit = {
			has_idea = USA_poor_labour_rights5
		}
		swap_ideas = {
			remove_idea = USA_poor_labour_rights5
			add_idea = USA_poor_labour_rights4
		}
	}
	else_if = {
		limit = {
			has_idea = USA_poor_labour_rights4
		}
		swap_ideas = {
			remove_idea = USA_poor_labour_rights4
			add_idea = USA_poor_labour_rights3
		}
	}
	else_if = {
		limit = {
			has_idea = USA_poor_labour_rights3
		}
		swap_ideas = {
			remove_idea = USA_poor_labour_rights3
			add_idea = USA_poor_labour_rights2
		}
	}
	else_if = {
		limit = {
			has_idea = USA_poor_labour_rights2
		}
		swap_ideas = {
			remove_idea = USA_poor_labour_rights2
			add_idea = USA_poor_labour_rights1
		}
	}
	else_if = {
		limit = {
			has_idea = USA_poor_labour_rights1
		}
		swap_ideas = {
			remove_idea = USA_poor_labour_rights1
			add_idea = USA_poor_labour_rights
		}
	}
	else_if = {
		limit = {
			has_idea = USA_poor_labour_rights
		}
		swap_ideas = {
			remove_idea = USA_poor_labour_rights
			add_idea = USA_poor_labour_rightsbad1
		}
	}
	else_if = {
		limit = {
			has_idea = USA_poor_labour_rightsbad1
		}
		swap_ideas = {
			remove_idea = USA_poor_labour_rightsbad1
			add_idea = USA_poor_labour_rightsbad2
		}
	}
}

USA_more_fat_stacks_in_central_america = {
	if = {
		limit = {
			NOT = {
				has_idea = USA_company_ventures_in_the_americas1
			}
		}
		add_ideas = {
			USA_company_ventures_in_the_americas1
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_ventures_in_the_americas1
		}
		swap_ideas = {
			remove_idea = USA_company_ventures_in_the_americas1
			add_idea = USA_company_ventures_in_the_americas2
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_ventures_in_the_americas2
		}
		swap_ideas = {
			remove_idea = USA_company_ventures_in_the_americas2
			add_idea = USA_company_ventures_in_the_americas3
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_ventures_in_the_americas3
		}
		swap_ideas = {
			remove_idea = USA_company_ventures_in_the_americas3
			add_idea = USA_company_ventures_in_the_americas4
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_ventures_in_the_americas4
		}
		swap_ideas = {
			remove_idea = USA_company_ventures_in_the_americas4
			add_idea = USA_company_ventures_in_the_americas5
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_ventures_in_the_americas5
		}
		swap_ideas = {
			remove_idea = USA_company_ventures_in_the_americas5
			add_idea = USA_company_ventures_in_the_americas6
		}
	}
}

USA_less_fat_stacks_in_central_america = {
	if = {
		limit = {
			has_idea = USA_company_ventures_in_the_americas6
		}
		swap_ideas = {
			remove_idea = USA_company_ventures_in_the_americas6
			add_idea = USA_company_ventures_in_the_americas5
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_ventures_in_the_americas5
		}
		swap_ideas = {
			remove_idea = USA_company_ventures_in_the_americas5
			add_idea = USA_company_ventures_in_the_americas4
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_ventures_in_the_americas4
		}
		swap_ideas = {
			remove_idea = USA_company_ventures_in_the_americas4
			add_idea = USA_company_ventures_in_the_americas3
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_ventures_in_the_americas3
		}
		swap_ideas = {
			remove_idea = USA_company_ventures_in_the_americas2
			add_idea = USA_company_ventures_in_the_americas4
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_ventures_in_the_americas2
		}
		swap_ideas = {
			remove_idea = USA_company_ventures_in_the_americas2
			add_idea = USA_company_ventures_in_the_americas1
		}
	}
	else_if = {
		limit = {
			has_idea = USA_company_ventures_in_the_americas1
		}
		remove_ideas = USA_company_ventures_in_the_americas1
	}
}

#Factions
#Faction System
#Progressive1
USA_progressive_loyalty_increase_effect = {
	#HAN_warlord_low_loyalty_increase_effect
	custom_effect_tooltip = USA_loyalty_increase_tt
	add_to_variable = {
		USA_progressive_loyalty = USA_faction_increase
	}
	# BUL_faction_low_increase
	clamp_variable = {
		var = USA_progressive_loyalty
		min = 0
		max = 100
	}
}

USA_progressive_popularity_increase_effect = {
	#HAN_warlord_low_loyalty_increase_effect 
	custom_effect_tooltip = USA_popularity_increase_tt	#HAN_low_loyalty_increase_tt
	add_to_variable = {
		USA_progressive_popularity = USA_faction_increase
	}
	# BUL_faction_low_increase 
	clamp_variable = {
		var = USA_progressive_popularity
		min = 0
		max = 100
	}
}

USA_progressive_loyalty_decrease_effect = {
	#BUL_zveno_low_loyalty_decrease_effect 
	custom_effect_tooltip = USA_loyalty_decrease_tt	#BUL_low_loyalty_decrease_tt
	add_to_variable = {
		USA_progressive_loyalty = USA_faction_decrease
	}
	#HAN_faction_low_decrease 
	clamp_variable = {
		var = USA_progressive_loyalty
		min = 0
		max = 100
	}
}

USA_progressive_popularity_decrease_effect = {
	#BUL_zveno_low_loyalty_decrease_effect 
	custom_effect_tooltip = USA_popularity_decrease_tt	#BUL_low_loyalty_decrease_tt
	add_to_variable = {
		USA_progressive_popularity = USA_faction_decrease
	}
	#HAN_faction_low_decrease
	clamp_variable = {
		var = USA_progressive_popularity
		min = 0
		max = 100
	}
}

#medium
USA_progressive_loyalty_increase_medium_effect = {
	#HAN_warlord_low_loyalty_increase_effect
	custom_effect_tooltip = USA_loyalty_increase_tt
	add_to_variable = {
		USA_progressive_loyalty = USA_faction_increase_medium
	}
	# BUL_faction_low_increase
	clamp_variable = {
		var = USA_progressive_loyalty
		min = 0
		max = 100
	}
}

USA_progressive_popularity_increase_medium_effect = {
	#HAN_warlord_low_loyalty_increase_effect 
	custom_effect_tooltip = USA_popularity_increase_tt	#HAN_low_loyalty_increase_tt
	add_to_variable = {
		USA_progressive_popularity = USA_faction_increase_medium
	}
	# BUL_faction_low_increase 
	clamp_variable = {
		var = USA_progressive_popularity
		min = 0
		max = 100
	}
}

USA_progressive_loyalty_decrease_medium_effect = {
	#BUL_zveno_low_loyalty_decrease_effect 
	custom_effect_tooltip = USA_loyalty_decrease_tt	#BUL_low_loyalty_decrease_tt
	add_to_variable = {
		USA_progressive_loyalty = USA_faction_decrease_medium
	}
	#HAN_faction_low_decrease 
	clamp_variable = {
		var = USA_progressive_loyalty
		min = 0
		max = 100
	}
}

USA_progressive_popularity_decrease_medium_effect = {
	#BUL_zveno_low_loyalty_decrease_effect 
	custom_effect_tooltip = USA_popularity_decrease_tt	#BUL_low_loyalty_decrease_tt
	add_to_variable = {
		USA_progressive_popularity = USA_faction_decrease_medium
	}
	#HAN_faction_low_decrease
	clamp_variable = {
		var = USA_progressive_popularity
		min = 0
		max = 100
	}
}

#progresives high 
USA_progressive_loyalty_increase_high_effect = {
	#HAN_warlord_low_loyalty_increase_effect
	custom_effect_tooltip = USA_loyalty_increase_tt
	add_to_variable = {
		USA_progressive_loyalty = USA_faction_increase_high
	}
	# BUL_faction_low_increase
	clamp_variable = {
		var = USA_progressive_loyalty
		min = 0
		max = 100
	}
}

USA_progressive_popularity_increase_high_effect = {
	#HAN_warlord_low_loyalty_increase_effect 
	custom_effect_tooltip = USA_popularity_increase_tt	#HAN_low_loyalty_increase_tt
	add_to_variable = {
		USA_progressive_popularity = USA_faction_increase_high
	}
	# BUL_faction_low_increase 
	clamp_variable = {
		var = USA_progressive_popularity
		min = 0
		max = 100
	}
}

USA_progressive_loyalty_decrease_high_effect = {
	#BUL_zveno_low_loyalty_decrease_effect 
	custom_effect_tooltip = USA_loyalty_decrease_tt	#BUL_low_loyalty_decrease_tt
	add_to_variable = {
		USA_progressive_loyalty = USA_faction_decrease_high
	}
	#HAN_faction_low_decrease 
	clamp_variable = {
		var = USA_progressive_loyalty
		min = 0
		max = 100
	}
}

USA_progressive_popularity_decrease_high_effect = {
	#BUL_zveno_low_loyalty_decrease_effect 
	custom_effect_tooltip = USA_popularity_decrease_tt	#BUL_low_loyalty_decrease_tt
	add_to_variable = {
		USA_progressive_popularity = USA_faction_decrease_high
	}
	#HAN_faction_low_decrease
	clamp_variable = {
		var = USA_progressive_popularity
		min = 0
		max = 100
	}
}

#USA_progressive2
USA_progressive2_loyalty_increase_effect = {
	#HAN_warlord_low_loyalty_increase_effect 
	custom_effect_tooltip = USA_loyalty_increase_tt
	add_to_variable = {
		USA_progressive2_loyalty = USA_faction_increase
	}
	# BUL_faction_low_increase 
	clamp_variable = {
		var = USA_progressive2_loyalty
		min = 0
		max = 100
	}
}

USA_progressive2_popularity_increase_effect = {
	#HAN_warlord_low_loyalty_increase_effect 
	custom_effect_tooltip = USA_popularity_increase_tt	#HAN_low_loyalty_increase_tt
	add_to_variable = {
		USA_progressive2_popularity = USA_faction_increase
	}
	# BUL_faction_low_increase 
	clamp_variable = {
		var = USA_progressive2_loyalty
		min = 0
		max = 100
	}
}

USA_progressive2_loyalty_decrease_effect = {
	#BUL_zveno_low_loyalty_decrease_effect 
	custom_effect_tooltip = USA_loyalty_decrease_tt	#BUL_low_loyalty_decrease_tt
	add_to_variable = {
		USA_progressive2_loyalty = USA_faction_decrease
	}
	#HAN_faction_low_decrease 
	clamp_variable = {
		var = USA_progressive2_loyalty
		min = 0
		max = 100
	}
}

USA_progressive2_popularity_decrease_effect = {
	#BUL_zveno_low_loyalty_decrease_effect 
	custom_effect_tooltip = USA_popularity_decrease_tt_tt
	add_to_variable = {
		USA_progressive2_popularity = USA_faction_decrease
	}
	#HAN_faction_low_decrease 
	clamp_variable = {
		var = USA_progressive2_loyalty
		min = 0
		max = 100
	}
}

#USA_progressive3
USA_progressive3_loyalty_increase_effect = {
	#HAN_warlord_low_loyalty_increase_effect
	custom_effect_tooltip = USA_loyalty_increase_tt	#HAN_low_loyalty_increase_tt
	add_to_variable = {
		USA_progressive3_loyalty = USA_faction_increase
	}
	# BUL_faction_low_increase
	clamp_variable = {
		var = USA_progressive3_loyalty
		min = 0
		max = 100
	}
}

USA_progressive3_popularity_increase_effect = {
	#HAN_warlord_low_loyalty_increase_effect
	custom_effect_tooltip = USA_popularity_increase_tt	#HAN_low_loyalty_increase_tt
	add_to_variable = {
		USA_progressive3_popularity = USA_faction_increase
	}
	# BUL_faction_low_increase 
	clamp_variable = {
		var = USA_progressive3_loyalty
		min = 0
		max = 100
	}
}

USA_progressive3_loyalty_decrease_effect = {
	#BUL_zveno_low_loyalty_decrease_effect
	custom_effect_tooltip = USA_loyalty_decrease_tt	#BUL_low_loyalty_decrease_tt
	add_to_variable = {
		USA_progressive3_loyalty = USA_faction_decrease
	}
	#HAN_faction_low_decrease
	clamp_variable = {
		var = USA_progressive3_loyalty
		min = 0
		max = 100
	}
}

USA_progressive3_popularity_decrease_effect = {
	#BUL_zveno_low_loyalty_decrease_effect 
	custom_effect_tooltip = USA_popularity_decrease_tt
	add_to_variable = {
		USA_progressive3_popularity = HAN_faction_decrease
	}
	#HAN_faction_low_decrease 
	clamp_variable = {
		var = USA_progressive3_popularity
		min = 0
		max = 100
	}
}

#USA_progressive4
USA_progressive4_loyalty_increase_effect = {
	#HAN_warlord_low_loyalty_increase_effect 
	custom_effect_tooltip = USA_loyalty_increase_tt	#HAN_low_loyalty_increase_tt
	add_to_variable = {
		USA_progressive4_loyalty = USA_faction_increase
	}
	# BUL_faction_low_increase 
	clamp_variable = {
		var = USA_progressive4_loyalty
		min = 0
		max = 100
	}
}

USA_progressive4_popularity_increase_effect = {
	#HAN_warlord_low_loyalty_increase_effect
	custom_effect_tooltip = USA_popularity_increase_tt	#HAN_low_loyalty_increase_tt
	add_to_variable = {
		USA_progressive4_popularity = USA_faction_increase
	}
	# BUL_faction_low_increase
	clamp_variable = {
		var = USA_progressive4_popularity
		min = 0
		max = 100
	}
}

USA_progressive4_loyalty_decrease_effect = {
	#BUL_zveno_low_loyalty_decrease_effect 
	custom_effect_tooltip = USA_loyalty_decrease_tt	#BUL_low_loyalty_decrease_tt
	add_to_variable = {
		USA_progressive4_loyalty = USA_faction_decrease
	}
	#HAN_faction_low_decrease 
	clamp_variable = {
		var = USA_progressive4_loyalty
		min = 0
		max = 100
	}
}

USA_progressive4_popularity_decrease_effect = {
	#BUL_zveno_low_loyalty_decrease_effect 
	custom_effect_tooltip = USA_popularity_decrease_tt
	custom_effect_tooltip = USA_progressive4_decrease_tt	#BUL_low_loyalty_decrease_tt
	add_to_variable = {
		USA_progressive4_popularity = USA_faction_decrease
	}
	#HAN_faction_low_decrease 
	clamp_variable = {
		var = USA_progressive4_popularity
		min = 0
		max = 100
	}
}

#medium
USA_progressive4_loyalty_increase_effect_medium = {
	#HAN_warlord_low_loyalty_increase_effect 
	custom_effect_tooltip = USA_loyalty_increase_tt	#HAN_low_loyalty_increase_tt
	add_to_variable = {
		USA_progressive4_loyalty = USA_faction_increase_medium
	}
	# BUL_faction_low_increase 
	clamp_variable = {
		var = USA_progressive4_loyalty
		min = 0
		max = 100
	}
}

USA_progressive4_popularity_increase_effect_medium = {
	#HAN_warlord_low_loyalty_increase_effect
	custom_effect_tooltip = USA_popularity_increase_tt	#HAN_low_loyalty_increase_tt
	add_to_variable = {
		USA_progressive4_popularity = USA_faction_increase_medium
	}
	# BUL_faction_low_increase
	clamp_variable = {
		var = USA_progressive4_popularity
		min = 0
		max = 100
	}
}

USA_progressive4_loyalty_decrease_effect_medium = {
	#BUL_zveno_low_loyalty_decrease_effect 
	custom_effect_tooltip = USA_loyalty_decrease_tt	#BUL_low_loyalty_decrease_tt
	add_to_variable = {
		USA_progressive4_loyalty = USA_faction_decrease_medium
	}
	#HAN_faction_low_decrease 
	clamp_variable = {
		var = USA_progressive4_loyalty
		min = 0
		max = 100
	}
}

USA_progressive4_popularity_decrease_effect_medium = {
	#BUL_zveno_low_loyalty_decrease_effect 
	custom_effect_tooltip = USA_popularity_decrease_tt
	custom_effect_tooltip = USA_progressive4_decrease_tt	#BUL_low_loyalty_decrease_tt
	add_to_variable = {
		USA_progressive4_popularity = USA_faction_decrease_medium
	}
	#HAN_faction_low_decrease 
	clamp_variable = {
		var = USA_progressive4_popularity
		min = 0
		max = 100
	}
}

USA_faction_values = {
	set_variable = {
		USA_faction_increase = 5
	}
	set_variable = {
		USA_faction_decrease = -5
	}
	set_variable = {
		USA_faction_increase_medium = 10
	}
	set_variable = {
		USA_faction_decrease_medium = -10
	}
	set_variable = {
		USA_faction_increase_high = 15
	}
	set_variable = {
		USA_faction_decrease_high = -15
	}
	set_variable = {
		USA_progressive_loyalty = 35
	}
	set_variable = {
		USA_progressive_popularity = 60
	}
	set_variable = {
		USA_progressive2_loyalty = 45
	}
	set_variable = {
		USA_progressive2_popularity = 40
	}
	set_variable = {
		USA_progressive3_loyalty = 25
	}
	set_variable = {
		USA_progressive3_popularity = 100
	}
	set_variable = {
		USA_progressive4_loyalty = 45
	}
	set_variable = {
		USA_progressive4_popularity = 45
	}
	set_variable = {
		progressive_republican_political_power = 0
	}
	set_variable = {
		conservative_republican_political_power = 0
	}
}

USA_pp_refresh = {
	if = {
		limit = {
			NOT = {
				has_country_flag = taft_not_president
			}
		}
		add_to_variable = {
			var = progressive_republican_political_power
			value = USA_progressive_loyalty
		}
		add_to_variable = {
			var = progressive_republican_political_power
			value = -50
		}
		multiply_variable = {
			var = progressive_republican_political_power
			value = 0.001
		}
		multiply_variable = {
			var = progressive_republican_political_power
			value = USA_progressive_popularity
		}
		divide_variable = {
			var = progressive_republican_political_power
			value = 2.5
		}
		add_to_variable = {
			var = conservative_republican_political_power
			value = USA_progressive2_loyalty
		}
		add_to_variable = {
			var = conservative_republican_political_power
			value = -50
		}
		multiply_variable = {
			var = conservative_republican_political_power
			value = 0.001
		}
		multiply_variable = {
			var = conservative_republican_political_power
			value = USA_progressive2_popularity
		}
		divide_variable = {
			var = conservative_republican_political_power
			value = 2.5
		}
	}
}

USA_rh_refresh = {
	set_variable = {
		roosevelt_house_support = 0
	}
	add_to_variable = {
		value = socialist_members_support
		var = roosevelt_house_support
	}
	add_to_variable = {
		value = progressive_democrats_support
		var = roosevelt_house_support
	}
	add_to_variable = {
		value = progressive_republican_support
		var = roosevelt_house_support
	}
	add_to_variable = {
		value = moderate_democrats_and_republicans_support
		var = roosevelt_house_support
	}
	add_to_variable = {
		value = bourbon_democrat_support
		var = roosevelt_house_support
	}
	add_to_variable = {
		value = conservative_republican_support
		var = roosevelt_house_support
	}
}

USA_congress_get_quorum = {
	set_variable = {
		var = quorum_low
		value = senators_total
	}
	multiply_variable = {
		var = quorum_low
		value = 0.4
	}
	set_variable = {
		var = quorum_medium
		value = senators_total
	}
	multiply_variable = {
		var = quorum_medium
		value = 0.5
	}
	set_variable = {
		var = quorum_high
		value = senators_total
	}
	multiply_variable = {
		var = quorum_high
		value = 0.6
	}
	round_variable = quorum_low
	round_variable = quorum_medium
	round_variable = quorum_high
	USA_recalc_congress_icon_frames = yes
}

USA_congress_remove_state = {
	custom_effect_tooltip = mtg_usa_congress_remove_state_tt
	subtract_from_variable = {
		senators_total = 2
	}
	clamp_variable = {
		var = senators_support
		max = senators_total
		min = 0
	}
	USA_congress_get_quorum = yes
	USA_recalc_congress_icon_frames = yes
}

USA_congress_add_state = {
	custom_effect_tooltip = mtg_usa_congress_add_state_tt
	add_to_variable = {
		senators_total = 2
	}
	add_to_variable = {
		senators_support = 2
	}
	USA_congress_get_quorum = yes
	USA_recalc_congress_icon_frames = yes
}

USA_congress_small_opposition = {
	custom_effect_tooltip = mtg_usa_congress_small_opposition_tt
	hidden_effect = {
		USA_senate_small_opposition = yes
		USA_house_small_opposition = yes
	}
}

USA_senate_small_opposition = {
	custom_effect_tooltip = mtg_usa_senate_small_opposition_tt
	set_temp_variable = {
		temp_factor = random
	}
	multiply_temp_variable = {
		temp_factor = -4
	}
	add_to_variable = {
		senators_support = temp_factor
	}
	round_variable = senators_support
	clamp_variable = {
		var = senators_support
		max = senators_total
		min = 0
	}
	USA_recalc_congress_icon_frames = yes
}

USA_house_small_opposition = {
	custom_effect_tooltip = mtg_usa_house_small_opposition_tt
	set_temp_variable = {
		temp_factor = random
	}
	multiply_temp_variable = {
		temp_factor = -20
	}
	add_to_variable = {
		representatives_support = temp_factor
	}
	round_variable = representatives_support
	clamp_variable = {
		var = representatives_support
		max = representatives_total
		min = 0
	}
	USA_recalc_congress_icon_frames = yes
}

USA_senate_small_support = {
	custom_effect_tooltip = mtg_usa_senate_small_support_tt
	set_temp_variable = {
		temp_factor = random
	}
	multiply_temp_variable = {
		temp_factor = 5
	}
	add_to_variable = {
		senators_support = temp_factor
	}
	round_variable = senators_support
	clamp_variable = {
		var = senators_support
		max = senators_total
		min = 0
	}
	USA_recalc_congress_icon_frames = yes
}

USA_house_small_support = {
	custom_effect_tooltip = mtg_usa_house_small_support_tt
	set_temp_variable = {
		temp_factor = random
	}
	multiply_temp_variable = {
		temp_factor = 25
	}
	clamp_temp_variable = {
		var = temp_factor
		max = 25
		min = 10
	}
	add_to_variable = {
		representatives_support = temp_factor
	}
	round_variable = representatives_support
	clamp_variable = {
		var = representatives_support
		max = representatives_total
		min = 0
	}
	USA_recalc_congress_icon_frames = yes
}

USA_senate_medium_opposition = {
	custom_effect_tooltip = mtg_usa_senate_medium_opposition_tt
	set_temp_variable = {
		temp_factor = random
	}
	multiply_temp_variable = {
		temp_factor = -8
	}
	clamp_temp_variable = {
		var = temp_factor
		max = -3
		min = -8
	}
	add_to_variable = {
		senators_support = temp_factor
	}
	round_variable = senators_support
	clamp_variable = {
		var = senators_support
		max = senators_total
		min = 0
	}
	USA_recalc_congress_icon_frames = yes
}

USA_house_medium_opposition = {
	custom_effect_tooltip = mtg_usa_house_medium_opposition_tt
	set_temp_variable = {
		temp_factor = random
	}
	multiply_temp_variable = {
		temp_factor = -40
	}
	clamp_temp_variable = {
		var = temp_factor
		max = -20
		min = -40
	}
	add_to_variable = {
		representatives_support = temp_factor
	}
	round_variable = representatives_support
	clamp_variable = {
		var = representatives_support
		max = representatives_total
		min = 0
	}
	USA_recalc_congress_icon_frames = yes
}

USA_senate_medium_support = {
	custom_effect_tooltip = mtg_usa_senate_medium_support_tt
	set_temp_variable = {
		temp_factor = random
	}
	multiply_temp_variable = {
		temp_factor = 10
	}
	clamp_temp_variable = {
		var = temp_factor
		max = 10
		min = 5
	}
	add_to_variable = {
		senators_support = temp_factor
	}
	round_variable = senators_support
	clamp_variable = {
		var = senators_support
		max = senators_total
		min = 0
	}
	USA_recalc_congress_icon_frames = yes
}

USA_house_medium_support = {
	custom_effect_tooltip = mtg_usa_house_medium_support_tt
	set_temp_variable = {
		temp_factor = random
	}
	multiply_temp_variable = {
		temp_factor = 50
	}
	clamp_temp_variable = {
		var = temp_factor
		max = 50
		min = 20
	}
	add_to_variable = {
		representatives_support = temp_factor
	}
	round_variable = representatives_support
	clamp_variable = {
		var = representatives_support
		max = representatives_total
		min = 0
	}
	USA_recalc_congress_icon_frames = yes
}

USA_senate_large_opposition = {
	custom_effect_tooltip = mtg_usa_senate_large_opposition_tt
	set_temp_variable = {
		temp_factor = random
	}
	multiply_temp_variable = {
		temp_factor = -25
	}
	clamp_temp_variable = {
		var = temp_factor
		max = 25
		min = -10
	}
	add_to_variable = {
		senators_support = temp_factor
	}
	round_variable = senators_support
	clamp_variable = {
		var = senators_support
		max = senators_total
		min = 0
	}
	USA_recalc_congress_icon_frames = yes
}

USA_house_large_opposition = {
	custom_effect_tooltip = mtg_usa_house_large_opposition_tt
	set_temp_variable = {
		temp_factor = random
	}
	multiply_temp_variable = {
		temp_factor = -100
	}
	clamp_temp_variable = {
		var = temp_factor
		max = -50
		min = -100
	}
	add_to_variable = {
		representatives_support = temp_factor
	}
	round_variable = representatives_support
	clamp_variable = {
		var = representatives_support
		max = representatives_total
		min = 0
	}
	USA_recalc_congress_icon_frames = yes
}

USA_senate_large_support = {
	custom_effect_tooltip = mtg_usa_senate_large_support_tt
	set_temp_variable = {
		temp_factor = random
	}
	multiply_temp_variable = {
		temp_factor = 30
	}
	clamp_temp_variable = {
		var = temp_factor
		max = 30
		min = 15
	}
	add_to_variable = {
		senators_support = temp_factor
	}
	round_variable = senators_support
	clamp_variable = {
		var = senators_support
		max = senators_total
		min = 0
	}
	USA_recalc_congress_icon_frames = yes
}

USA_house_large_support = {
	custom_effect_tooltip = mtg_usa_house_large_support_tt
	set_temp_variable = {
		temp_factor = random
	}
	multiply_temp_variable = {
		temp_factor = 125
	}
	clamp_temp_variable = {
		var = temp_factor
		max = 125
		min = 80
	}
	add_to_variable = {
		representatives_support = temp_factor
	}
	round_variable = representatives_support
	clamp_variable = {
		var = representatives_support
		max = representatives_total
		min = 0
	}
	USA_recalc_congress_icon_frames = yes
}

USA_congress_medium_opposition = {
	custom_effect_tooltip = mtg_usa_congress_medium_opposition_tt
	hidden_effect = {
		USA_senate_medium_opposition = yes
		USA_house_medium_opposition = yes
	}
}

USA_congress_large_opposition = {
	custom_effect_tooltip = mtg_usa_congress_large_opposition_tt
	hidden_effect = {
		USA_senate_large_opposition = yes
		USA_house_large_opposition = yes
	}
}

USA_congress_small_support = {
	custom_effect_tooltip = mtg_usa_congress_small_support_tt
	hidden_effect = {
		USA_senate_small_support = yes
		USA_house_small_support = yes
	}
}

USA_congress_medium_support = {
	custom_effect_tooltip = mtg_usa_congress_medium_support_tt
	hidden_effect = {
		USA_senate_medium_support = yes
		USA_house_medium_support = yes
	}
}

USA_congress_large_support = {
	custom_effect_tooltip = mtg_usa_congress_large_support_tt
	hidden_effect = {
		USA_senate_large_support = yes
		USA_house_large_support = yes
	}
}

USA_election_senate = {
	set_variable = {
		var = senators_for_reelection
		value = senators_total
	}
	#not temp because needed for events
	multiply_variable = {
		senators_for_reelection = 0.3
	}
	multiply_variable = {
		senators_for_reelection = election_factor
	}
	add_to_variable = {
		senators_support = senators_for_reelection
	}
	round_variable = senators_support
	round_variable = senators_for_reelection
	set_variable = {
		sen_loc = senators_for_reelection
	}
	if = {
		limit = {
			check_variable = {
				sen_loc < 0
			}
		}
		multiply_variable = {
			sen_loc = -1
		}
	}
	clamp_variable = {
		var = senators_support
		max = senators_total
		min = 0
	}
	USA_recalc_congress_icon_frames = yes
}

USA_election_house = {
	set_variable = {
		var = representatives_for_reelection
		value = representatives_total
	}
	#not temp because needed for events
	multiply_variable = {
		representatives_for_reelection = 0.5
	}
	multiply_variable = {
		representatives_for_reelection = election_factor
	}
	set_variable = {
		representatives_support = representatives_total
	}
	multiply_variable = {
		representatives_support = 0.5
	}
	add_to_variable = {
		representatives_support = representatives_for_reelection
	}
	round_variable = representatives_support
	round_variable = representatives_for_reelection
	set_variable = {
		ror_loc = representatives_for_reelection
	}
	if = {
		limit = {
			check_variable = {
				ror_loc < 0
			}
		}
		multiply_variable = {
			ror_loc = -1
		}
	}
	clamp_variable = {
		var = senators_support
		max = representatives_total
		min = 0
	}
	USA_recalc_congress_icon_frames = yes
}

USA_return_majority = {
	#for communist/fascist
	custom_effect_tooltip = USA_return_majority_tt
	set_variable = {
		var = goal_value_senators
		value = senators_total
	}
	multiply_variable = {
		var = goal_value_senators
		value = 0.7
	}
	round_variable = goal_value_senators
	if = {
		limit = {
			check_variable = {
				senators_support < goal_value_senators
			}
			#shouldn't punish player
		}
		set_variable = {
			var = senators_support
			value = goal_value_senators
		}
	}
	set_variable = {
		var = goal_value_representatives
		value = representatives_total
	}
	multiply_variable = {
		var = goal_value_representatives
		value = 0.7
	}
	round_variable = goal_value_representatives
	if = {
		limit = {
			check_variable = {
				representatives_support < goal_value_representatives
			}
			#shouldn't punish player
		}
		set_variable = {
			var = representatives_support
			value = goal_value_representatives
		}
	}
	USA_recalc_congress_icon_frames = yes
}

USA_flip_support = {
	set_temp_variable = {
		senators_temp = senators_total
	}
	subtract_from_temp_variable = {
		senators_temp = senators_support
	}
	set_variable = {
		senators_support = senators_temp
	}
	set_temp_variable = {
		representatives_temp = representatives_total
	}
	subtract_from_temp_variable = {
		representatives_temp = representatives_support
	}
	set_variable = {
		representatives_support = representatives_temp
	}
	USA_recalc_congress_icon_frames = yes
}

USA_midterms = {
	add_to_variable = {
		senators_support = -6
	}
	add_to_variable = {
		representatives_support = -55
	}
}

USA_midterms_teddy = {
	add_to_variable = {
		senators_support = -4
	}
	add_to_variable = {
		representatives_support = -44
	}
}

USA_recalc_congress_icon_frames = {
	set_temp_variable = {
		senators_temp = senators_support
	}
	divide_temp_variable = {
		senators_temp = senators_total
	}
	multiply_temp_variable = {
		senators_temp = 21
	}
	if = {
		limit = {
			check_variable = {
				senators_temp > 0
			}
		}
		clamp_temp_variable = {
			var = senators_temp
			min = 1
			max = 21
		}
	}
	else = {
		set_temp_variable = {
			senators_temp = 1
		}
	}
	set_variable = {
		current_senate_icon_frame = senators_temp
	}
	set_temp_variable = {
		house_temp = representatives_support
	}
	divide_temp_variable = {
		house_temp = representatives_total
	}
	multiply_temp_variable = {
		house_temp = 21
	}
	if = {
		limit = {
			check_variable = {
				house_temp > 0
			}
		}
		clamp_temp_variable = {
			var = house_temp
			min = 1
			max = 21
		}
	}
	else = {
		set_temp_variable = {
			house_temp = 1
		}
	}
	set_variable = {
		current_house_icon_frame = house_temp
	}
}
