add_namespace = ww1_chile
#Pedro Montt dies
country_event = {
	id = ww1_chile.1
	title = ww1_chile.1.t
	desc = ww1_chile.1.d
	picture = GFX_report_event_generic_funeral
	trigger = {
		original_tag = CHL
		date > 1910.8.1
		has_idea = CHL_idea_pedro_montt
	}
	fire_only_once = yes
	mean_time_to_happen = {
		days = 16
	}
	option = {
		name = ww1_chile.1.a
			remove_ideas = CHL_idea_pedro_montt
			add_ideas = CHL_idea_elias_fernandez_albano
			hidden_effect = {
				country_event = {
					id = ww1_chile.2
					days = 21
				}
			}
	}
}

#Elías Fernández Albano dies
country_event = {
	id = ww1_chile.2
	title = ww1_chile.2.t
	desc = ww1_chile.2.d
	picture = GFX_report_event_europe_funeral
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			remove_ideas = CHL_idea_pedro_montt
			add_ideas = CHL_idea_elias_fernandez_albano
		}
	}
	is_triggered_only = yes
	option = {
		name = ww1_chile.2.a
		add_political_power = -50
		add_stability = -0.03
		remove_ideas = CHL_idea_elias_fernandez_albano
		add_ideas = CHL_idea_emiliano_figueroa
		set_politics = {
			ruling_party = democratic
			last_election = "1905.10.18"
			elections_allowed = yes
		}
	}
}

#1910 Chilean presidential election
country_event = {
	id = ww1_chile.3
	title = ww1_chile.3.t
	desc = ww1_chile.3.d
	picture = GFX_report_event_election_vote
	trigger = {
		original_tag = CHL
		has_government = democratic
		date < 1914.12.31
	}
	is_triggered_only = yes
	fire_only_once = yes
	immediate = {
		hidden_effect = {
			country_event = {
				id = ww1_chile.4
				days = 50
			}
		}
	}
	option = {
		name = ww1_chile.3.a
		add_political_power = 100
		custom_effect_tooltip = CHL_president_inauguration_tt
	}
}
#Ramón Barros Luco inauguration
country_event = {
	id = ww1_chile.4
	title = ww1_chile.4.t
	desc = ww1_chile.4.d
	picture = GFX_report_event_generic_military_parade
	is_triggered_only = yes
	trigger = {
		has_government = democratic
		date < 1914.12.31
	}
	option = {
		name = ww1_chile.4.a
		add_stability = 0.03
		remove_ideas = CHL_idea_emiliano_figueroa
		add_ideas = CHL_idea_ramon_barros_luco
		set_politics = {
			ruling_party = democratic
			last_election = "1910.6.25"
			elections_allowed = yes
		}
	}
}
#1915 Chilean presidential election
country_event = {
	id = ww1_chile.5
	title = ww1_chile.3.t
	desc = ww1_chile.5.d
	picture = GFX_report_event_election_vote
	trigger = {
		original_tag = CHL
		has_government = democratic
		date > 1915.1.1
		date < 1919.12.31
	}
	is_triggered_only = yes
	fire_only_once = yes
	immediate = {
		hidden_effect = {
			country_event = {
				id = ww1_chile.6
				days = 70
			}
		}
	}
	option = {
		name = ww1_chile.5.a
		add_political_power = 100
		CHL_jose_luis_sanfuentes = {
			add_country_leader_role = {
				country_leader={
					ideology=liberal_conservatismx
				
				}
			}
		}
		set_country_flag = CHL_jose_luis_sanfuentes_elected
		custom_effect_tooltip = CHL_president_inauguration_tt
		ai_chance = {
			factor = 50			
		}
	}
	option = {
		name = ww1_chile.5.b
		CHL_javier_angel_figueroa = {
			add_country_leader_role = {
				country_leader={
					ideology=classical_liberalismx
					traits={ liberal_democratic_paragon  }
					
				}
			}
		}
		set_country_flag = CHL_javier_angel_figueroa_elected
		custom_effect_tooltip = CHL_president_inauguration_tt
		ai_chance = {
			factor = 30
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
		}
	}
}
#1915 Chilean presidential inauguration
country_event = {
	id = ww1_chile.6
	title = ww1_chile.6.t
	desc = {
		text = ww1_chile.6.d_1
		trigger = {
			has_country_flag = CHL_jose_luis_sanfuentes_elected
		}	
	}
	desc = {
		text = ww1_chile.6.d_2
		trigger = {
			has_country_flag = CHL_javier_angel_figueroa_elected
		}
	}	
	picture = GFX_report_event_generic_military_parade
	is_triggered_only = yes
	trigger = {
		has_government = democratic
		date < 1919.12.31
	}
	option = {
		name = ww1_chile.6.a
		trigger = {
			has_country_flag = CHL_jose_luis_sanfuentes_elected
		}
		remove_ideas = CHL_idea_ramon_barros_luco
		add_ideas = CHL_idea_jose_luis_sanfuentes
      set_politics = {
	ruling_party = neutrality
}
CHL = {
	set_popularities = {
		neutrality = 50.14
		democratic = 49.86
		fascism = 0
		communism = 0
	}
	}
}
	option = {
		name = ww1_chile.6.b
		trigger = {
			has_country_flag = CHL_javier_angel_figueroa_elected
		}	
		remove_ideas = CHL_idea_ramon_barros_luco
		add_ideas = CHL_idea_javier_angel_figueroa
		set_popularities = {
			democratic = 50.14
			neutrality = 49.86
			fascism = 0
			communism = 0
		}
      set_politics = {
	ruling_party = democratic
}

}
}

#Foundation of the Socialist Workers' Party
country_event = {
	id = ww1_chile.9
	title = ww1_chile.9.t
	desc = ww1_chile.9.d
	picture = GFX_report_event_communist_leader	
	trigger = {
		original_tag = CHL
		date > 1912.6.1
	}
	mean_time_to_happen = {
		days = 4
	}
	fire_only_once = yes
	option = {
		name = ww1_chile.9.a
		add_popularity = {
			ideology = communism
			popularity = 0.02
		}
		set_country_flag = pos_has_been_founded
		set_party_name = {
			ideology = communism
			long_name = CHL_communism_pos_party_long
			name = CHL_communism_pos_party
		}
	}
}


# Peruvians Demand Tacna
country_event = {
	id = ww1_chile.10
	title = ww1_chile.10.t
	desc = ww1_chile.10.d
	picture = GFX_report_event_generic_conference
	is_triggered_only = yes
	option = {
		name = ww1_chile.10.a
		FROM = {
			hidden_effect = {
				add_opinion_modifier = {
					target = ROOT
					modifier = HOI4TGW_Opinion_diplomats_bonus
				}
				ROOT = {
					add_opinion_modifier = {
						target = PREV
						modifier = HOI4TGW_Opinion_diplomats_bonus
					}
				}
			}
			PRU = {
				transfer_state = 845
				add_state_core = 845	
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					has_government = fascism
					has_opinion = {
						target = FROM
						value < 10
					}
				}
			}
		}
	}
	option = {
		name = ww1_chile.10.b
		FROM = {
			hidden_effect = {
				add_opinion_modifier = {
					target = ROOT
					modifier = HOI4TGW_Opinion_diplomats_malus
				}
				ROOT = {
					add_opinion_modifier = {
						target = PREV
						modifier = HOI4TGW_Opinion_diplomats_malus
					}
				}
			}
			create_wargoal = {
				target = ROOT
				type = take_core_state
				generator = { 845 }
			}
		}
		ai_chance = {
			base = 10
			modifier = {
				factor = 0
				OR = {
					has_war_support < 0.50
					has_opinion = {
						target = FROM
						value > 20
					}
				}
			}
		}
	}
}

# Bolivians Demand Antofagasta
country_event = {
	id = ww1_chile.11
	title = ww1_chile.11.t
	desc = ww1_chile.11.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_conference
	option = {
		name = ww1_chile.10.a
		FROM = {
			hidden_effect = {
				add_opinion_modifier = {
					target = ROOT
					modifier = HOI4TGW_Opinion_diplomats_bonus
				}
				ROOT = {
					add_opinion_modifier = {
						target = PREV
						modifier = HOI4TGW_Opinion_diplomats_bonus
					}
				}
			}
			transfer_state = 958
			add_state_core = 958
		}
		ai_chance = {
			base = 10
			modifier = {
				factor = 0
				OR = {
					has_war_support > 0.10
					strength_ratio = {
						tag = FROM
						ratio > 0.5
					}
					has_opinion = {
						target = FROM
						value < 50
					}
				}
			}
		}
	}
	option = {
		name = ww1_chile.10.b
		FROM = {
			hidden_effect = {
				add_opinion_modifier = {
					target = ROOT
					modifier = HOI4TGW_Opinion_diplomats_malus
				}
				ROOT = {
					add_opinion_modifier = {
						target = PREV
						modifier = HOI4TGW_Opinion_diplomats_malus
					}
				}
			}
			create_wargoal = {
				target = ROOT
				type = take_core_state
				generator = { 958 }
			}
		}
		ai_chance = {
			base = 100
		}
	}
}
#1912 Parliament Elections
country_event = {
	id = ww1_chile.12
	title = ww1_chile.12.t
	desc = ww1_chile.12.d
	picture = GFX_report_event_election_vote	
	trigger = {
		original_tag = CHL
		date > 1912.3.5
		has_government = democratic
	}
	fire_only_once = yes
	option = {
		name = ww1_chile.12.a
		CHL = {
			set_popularities = {
				democratic = 48
				neutrality = 46
				fascism = 3
				communism = 3
			}
		}
	}

}
#1915 Parliament Elections
country_event = {
	id = ww1_chile.13
	title = ww1_chile.13.t
	desc = ww1_chile.13.d
	picture = GFX_report_event_election_vote	
	trigger = {
		original_tag = CHL
		date > 1915.3.7
		has_government = democratic
	}
	fire_only_once = yes
	option = {
		name = ww1_chile.13.a
		CHL = {
			set_popularities = {
				democratic = 45
				neutrality = 55
				fascism = 0
				communism = 0
			}
		}
	}
}
#1918 Parliament Elections
country_event = {
	id = ww1_chile.14
	title = ww1_chile.14.t
	desc = ww1_chile.14.d
	picture = GFX_report_event_election_vote	
	trigger = {
		original_tag = CHL
		date > 1918.3.3
		has_government = democratic
	}
	fire_only_once = yes
	option = {
		name = ww1_chile.13.a
		CHL = {
			set_popularities = {
				democratic = 56
				neutrality = 43
				fascism = 0
				communism = 0
			}
		}
	}
}
#Foundation of the Nationalist Party
country_event = {
	id = ww1_chile.15
	title = ww1_chile.15.t
	desc = ww1_chile.15.d
	picture = GFX_report_event_soviet_purge_politicians
	trigger = {
		original_tag = CHL
		date > 1913.9.1
		date < 1913.9.3 
	}
	mean_time_to_happen = {
		days = 1
	}
	fire_only_once = yes
	option = {
		name = ww1_chile.15.a
		set_party_name = {
			ideology = fascism
			long_name = CHL_ParNa_party
			name = CHL_ParNa_party
		}
	}
}
#The Chileans wanna buy the hms canada
country_event = {
	id = ww1_chile.16
	title = ww1_chile.16.t
	desc = ww1_chile.16.d
    picture = GFX_report_event_usa_heavy_cruiser
    fire_only_once = yes
    is_triggered_only = yes

    option = {
        name = ww1_chile.16.a
        ai_chance = { factor = 80 }
		CHL = {
			hidden_effect = {
			country_event = {
                id = ww1_chile.17
                days = 120
            }
		}
			country_event = {
                id = ww1_chile.18
                days = 6
            }
			add_equipment_to_stockpile = {
				type = convoy
				amount = 100
				producer = CHL
			}
			create_equipment_variant = {
				name = "Almirante Latorre"
				type = ship_hull_heavy_2
				parent_version = 0
				modules = {
					fixed_ship_battery_slot = ship_heavy_battery_2
					fixed_ship_anti_air_slot = empty
					fixed_ship_fire_control_system_slot = ship_fire_control_system_0
					fixed_ship_radar_slot = empty
					fixed_ship_engine_slot = heavy_ship_engine_1
					fixed_ship_secondaries_slot = ship_secondaries_1
					fixed_ship_armor_slot = ship_armor_bb_2
					front_1_custom_slot = empty
					mid_1_custom_slot = empty
					rear_1_custom_slot = empty
				}
			}
		}
		ENG = {
			create_equipment_variant = {
				name = "Canada Class"
				type = ship_hull_heavy_2
				name_group = ENG_BB_HISTORICAL
				parent_version = 0
				modules = {
					fixed_ship_battery_slot = ship_heavy_battery_2
					fixed_ship_anti_air_slot = empty
					fixed_ship_fire_control_system_slot = ship_fire_control_system_0
					fixed_ship_radar_slot = empty
					fixed_ship_engine_slot = heavy_ship_engine_1
					fixed_ship_secondaries_slot = ship_secondaries_1
					fixed_ship_armor_slot = ship_armor_bb_2
					front_1_custom_slot = empty
					mid_1_custom_slot = empty
					rear_1_custom_slot = empty
				}
			}
		}
	}
	option = {
        name = ww1_chile.16.b
        ai_chance = { factor = 20 }
		CHL = {
			 set_country_flag = chilenoententelatorre
			 country_event = {
                id = ww1_chile.20
                days = 3
            }
		}
    }
    }
	#The Fear Of War...
	country_event = {
		id = ww1_chile.17
		title = ww1_chile.17.t
		desc = ww1_chile.17.d
		picture = GFX_report_event_soviet_purge_politicians
is_triggered_only = yes
		mean_time_to_happen = {
			days = 1
		}
		fire_only_once = yes
		option = {
			name = ww1_chile.17.a
			CHL = {
				remove_ideas = {
					CHL_idea_arlmirante_latorre_in_commision 
				}
					create_ship = {
						type = ship_hull_heavy_2
						creator = CHL
						equipment_variant = "Almirante Latorre"
						name = "Almirante Latorre"
					}
			}
				add_opinion_modifier = { target = ENG modifier = CHL_almirante_latorre_purchase_opinion_modifier }

		}
		option = {
			name = ww1_chile.17.b
			ENG = {
				create_ship = {
					type = ship_hull_heavy_2
					equipment_variant = "Canada Class"
					name = "Canada Class"
					creator = ENG
				}
			}
			CHL = {
				add_offsite_building = {
					type = industrial_complex
					level = 2
				}
				hidden_effect = {
					country_event = {
						id = ww1_chile.19
						days = 1200
					}
				}
		}
	}
}
#The British Have Agreed!
country_event = {
	id = ww1_chile.18
	title = ww1_chile.18.t
	desc = ww1_chile.18.d
	picture = GFX_report_event_soviet_purge_politicians
    is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	fire_only_once = yes
	option = {
		name = ww1_chile.18.a
		add_ideas = CHL_idea_arlmirante_latorre_in_commision
		set_technology = {
			early_ship_hull_heavy = 1
			basic_ship_hull_heavy = 1
			improved_ship_hull_heavy = 1
		}
	}
}
#Post War Almirante Latorre
country_event = {
	id = ww1_chile.19
	title = ww1_chile.19.t
	desc = ww1_chile.19.d
	picture = GFX_report_event_soviet_purge_politicians
    is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	fire_only_once = yes
	option = {
		name = ww1_chile.19.a
		create_ship = {
			type = ship_hull_heavy_2
			equipment_variant = "Almirante Latorre"
			name = "Almirante Latorre"
			creator = CHL
		}
	}
}
#The British Have Rejected The Purchase Of The HMS Canada
country_event = {
	id = ww1_chile.20
	title = ww1_chile.20.t
	desc = ww1_chile.20.d
	picture = GFX_report_event_soviet_purge_politicians
    is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	fire_only_once = yes
	option = {
		name = ww1_chile.20.a
		add_opinion_modifier = { 
			target = ENG 
			modifier = CHL_NOTalmirante_latorre_purchase_opinion_modifier
		 }
	}
}
#Chile Requests A Naval Mission
country_event = {
	id = ww1_chile.21
	title = ww1_chile.21.t
	desc = ww1_chile.21.d
	picture = GFX_report_event_soviet_purge_politicians
    is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	fire_only_once = yes
	#yes
	option = {
		name = ww1_chile.21.a
		custom_effect_tooltip = ww1_chile.21_tooltip
		CHL = {
			country_event = {
				id = ww1_chile.22
                days = 10
			}
		}
		ai_chance = { factor = 80 }
	}
	#no
	option = {
		name = ww1_chile.21.b
		CHL = {
			country_event = {
				id = ww1_chile.23
				days = 10
			}
		}
		ai_chance = { factor = 20 }
	}
}
#they've said yes
country_event = {
	id = ww1_chile.22
	title = ww1_chile.22.t
	desc = ww1_chile.22.d
	picture = GFX_report_event_soviet_purge_politicians
    is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	fire_only_once = yes
	option = {
		name = ww1_chile.22.a
       custom_effect_tooltip = available_navy_chief
		show_ideas_tooltip = CHL_davidbeatty
		set_country_flag = CHL_british_naval_mission_flag
	}
}
#they've said no
country_event = {
	id = ww1_chile.23
	title = ww1_chile.23.t
	desc = ww1_chile.23.d
	picture = GFX_report_event_soviet_purge_politicians
    is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	fire_only_once = yes
	option = {
		name = ww1_chile.23.a
		add_opinion_modifier = { 
			target = ENG 
			modifier = CHL_NOTalmirante_latorre_purchase_opinion_modifier
		 }
	}
}
#Death Of elias yanez
country_event = {
	id = ww1_chile.24
	title = ww1_chile.24.t
	desc = ww1_chile.24.d
	picture = GFX_report_event_europe_funeral
	fire_only_once = yes
	trigger = {
		original_tag = CHL
		date > 1913.12.17
		has_character = CHL_Elias_Yañez
	}
	mean_time_to_happen = {
		days = 3
	}
	immediate = {
		hidden_effect = {
			retire_character = CHL_Elias_Yañez
		}
	}
	option = {
		name = ww1_chile.24.a
		effect_tooltip = {
			retire_character = CHL_Elias_Yañez
		}
	}
}
#retirement of silva renard
country_event = {
	id = ww1_chile.25
	title = ww1_chile.25.t
	desc = ww1_chile.25.d
	picture = GFX_report_event_europe_funeral
	fire_only_once = yes
	trigger = {
		original_tag = CHL
		date > 1914.12.14
		has_character = CHL_Roberto_Silva_Renard
	}
	mean_time_to_happen = {
		days = 3
	}
	immediate = {
		hidden_effect = {
			retire_character = CHL_Roberto_Silva_Renard
		}
	}
	option = {
		name = ww1_chile.25.a
		effect_tooltip = {
			retire_character = CHL_Roberto_Silva_Renard
			add_stability = -0.05
		}
	}
	option = {
		name = ww1_chile.25.b
		effect_tooltip = {
			add_stability = -0.01
		}
	}
}
#The Chilean Military Mission In Germany
country_event = {
	id = ww1_chile.26
	title = ww1_chile.26.t
	desc = ww1_chile.26.d
	picture = GFX_report_event_por_president_military_inspection
    is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	fire_only_once = yes
	option = {
		name = ww1_chile.26.a
		GER ={ add_timed_idea = { idea = chl_Ger_german_military_mission days = 720 } }
		hidden_effect = {add_relation_modifier = {
			target = GER
			modifier = CHL_almirante_latorre_purchase_opinion_modifier
		}}
	}
	}
#A Century Of Independence
country_event = {
	id = ww1_chile.27
	title = ww1_chile.27.t
	desc = ww1_chile.27.d
	picture = GFX_report_event_france_parade
    is_triggered_only = yes
	mean_time_to_happen = {
		days = 1
	}
	fire_only_once = yes
	#A Century Of Independence!
	option = {
		name = ww1_chile.27.a
		add_timed_idea = {
			idea = CHL_a_year_of_independence_idea
			days = 120
		}
		complete_national_focus = CHL_a_year_of_independence
		hidden_effect = {
			country_event = {
				id = ww1_chile.28
				days = 3
			}
		}
	}
	#A Century Of Poverty!
	option = {
		name = ww1_chile.27.b
		add_timed_idea = {
			idea = CHL_a_century_of_poverty_idea
			days = 120
		}
		complete_national_focus = CHL_a_century_of_poverty
	}
	}
	#Chile Celebrates a 100 years of independence
	news_event = {
		id = ww1_chile.28
		title = ww1_chile.28.t
		desc = ww1_chile.28.d
		picture = GFX_ww1_chile.28
		is_triggered_only = yes
		mean_time_to_happen = {
			days = 1
		}
		fire_only_once = yes
		option = {
			name = ww1_chile.28.a
		}
		}
#The Iquique Earthquake		
		country_event = {
			id = ww1_chile.29
			title = ww1_chile.29.t
			desc = ww1_chile.29.d
			picture = GFX_report_event_CHL_chillan_earthquake
			fire_only_once = yes 
			trigger = {
				controls_state = 959				
				date > 1914.9.15
			}
			fire_only_once = yes
				option = {
					name = ww1_chile.earthquake.a
					ai_chance = {
						base = 100
					}
			
					add_stability = -0.05
			
					add_manpower = -2000
			
					959 = {
						damage_building = {
							type = infrastructure
							damage = 1
						}
					}

					add_timed_idea = {
						idea = CHL_recent_earthquake 
						days = 210
					}
					}
			
			
		}
		#The Concepcion Earthquake		
		country_event = {
			id = ww1_chile.30
			title = ww1_chile.30.t
			desc = ww1_chile.30.d
			picture = GFX_report_event_CHL_chillan_earthquake
			fire_only_once = yes 
			trigger = {
				controls_state = 279			
				date > 1911.1.29
			}
			mean_time_to_happen = {
				days = 1
			}
			fire_only_once = yes
			option = {
				name = ww1_chile.earthquake.a
				ai_chance = {
					base = 100
				}
		
				add_stability = -0.05
		
				add_manpower = -2000
		
				279 = {
					damage_building = {
						type = infrastructure
						damage = 1
					}
				}

				add_timed_idea = {
					idea = CHL_recent_earthquake 
					days = 210
				}
				}
		}
		#The Copiapo Earthquake		
		country_event = {
			id = ww1_chile.31
			title = ww1_chile.31.t
			desc = ww1_chile.31.d
			picture = GFX_report_event_CHL_chillan_earthquake
			fire_only_once = yes 
			trigger = {
				controls_state = 506			
				date > 1918.12.4
			}
			mean_time_to_happen = {
				days = 1
			}
			fire_only_once = yes
			option = {
				name = ww1_chile.earthquake.a
				ai_chance = {
					base = 100
				}
		
				add_stability = -0.05
		
				add_manpower = -3000
		
				506 = {
					damage_building = {
						type = infrastructure
						damage = 1
					}
				}

				add_timed_idea = {
					idea = CHL_recent_earthquake 
					days = 210
				}
				}
		}