#Declaration of independence 
country_event = {
	id = ww1_albania.1
	title = ww1_albania.1.t
	desc = ww1_albania.1.d
	is_triggered_only = yes
	option = {
		name = ww1_albania.1.a

		add_political_power = 100
		add_stability = 0.1
		swap_ideas = {
			remove_idea = ALB_very_low_legitimacy
			add_idea = ALB_low_legitimacy
		}
	}
}
#Albanian War for Independence
country_event = {
	title = ww1_albania.7.t
	desc = ww1_albania.7.d
	id = ww1_albania.7
	picture = GFX_report_event_spr_civil_war_faction_defeated
	fire_only_once = yes
	mean_time_to_happen = {
		days = 10
	}
	trigger = {
		tag = TUR
		has_war = no
		NOT = {
			is_subject_of = TUR
		}
		any_owned_state = {
			is_core_of = ALB
			is_controlled_by = TUR
		}
		NOT = {
			country_exists = ALB
		}
		date > 1913.4.10
		any_state = {
			is_core_of = ALB
			has_dynamic_modifier = {
				modifier = TUR_albanian_minority
			}
		}
	}
	option = {
		name = ww1_albania.2.a
		every_owned_state = {
			limit = {
				OR = {
					state = 44
					state = 870
					state = 871
					state = 803
					state = 848
					state = 847
				}
				has_dynamic_modifier = {
					modifier = TUR_albanian_minority
				}
			}
			transfer_state_to = ALB
		}
		ALB = {
			hidden_effect = {
				division_template = {
					name = "Milicitë Shqiptare"
					regiments = {
						infantry = {
							x = 0
							y = 0
						}
						infantry = {
							x = 0
							y = 1
						}
						infantry = {
							x = 1
							y = 0
						}
						infantry = {
							x = 1
							y = 1
						}
					}
				}
				if = {
					limit = {
						44 = {
							has_dynamic_modifier = {
								modifier = TUR_albanian_minority
							}
						}
					}
					44 = {
						create_unit = {
							division = "division_template = \"Milicitë Shqiptare\" start_experience_factor = 0.1"
							owner = ALB
							allow_spawning_on_enemy_provs = yes
						}
						create_unit = {
							division = "division_template = \"Milicitë Shqiptare\" start_experience_factor = 0.1"
							owner = ALB
							allow_spawning_on_enemy_provs = yes
						}
					}
				}
				if = {
					limit = {
						803 = {
							has_dynamic_modifier = {
								modifier = TUR_albanian_minority
							}
						}
					}
					803 = {
						create_unit = {
							division = "division_template = \"Milicitë Shqiptare\" start_experience_factor = 0.1"
							owner = ALB
							allow_spawning_on_enemy_provs = yes
						}
					}
				}
				if = {
					limit = {
						871 = {
							has_dynamic_modifier = {
								modifier = TUR_albanian_minority
							}
						}
					}
					871 = {
						create_unit = {
							division = "division_template = \"Milicitë Shqiptare\" start_experience_factor = 0.1"
							owner = ALB
							allow_spawning_on_enemy_provs = yes
						}
					}
				}
				if = {
					limit = {
						44 = {
							NOT = {
								has_dynamic_modifier = {
									modifier = TUR_albanian_minority
								}
							}
						}
						803 = {
							NOT = {
								has_dynamic_modifier = {
									modifier = TUR_albanian_minority
								}
							}
						}
						871 = {
							NOT = {
								has_dynamic_modifier = {
									modifier = TUR_albanian_minority
								}
							}
						}
					}
					random_owned_state = {
						create_unit = {
							division = "division_template = \"Milicitë Shqiptare\" start_experience_factor = 0.1"
							owner = ALB
							allow_spawning_on_enemy_provs = yes
						}
					}
					random_owned_state = {
						create_unit = {
							division = "division_template = \"Milicitë Shqiptare\" start_experience_factor = 0.1"
							owner = ALB
							allow_spawning_on_enemy_provs = yes
						}
					}
				}
				# load_oob = ALB_1912
				every_owned_state = {
					add_claim_by = TUR
				}
			}
		}
		declare_war_on = {
			target = ALB
			type = annex_everything
		}
		ai_chance = {
			factor = 1
		}
	}
	#	option = {
	#		name = ww1_albania.2.b
	#		every_owned_state = {
	#			limit = {
	#				is_core_of = ALB
	#				NOT = {
	#					is_core_of = SER
	#				}
	#			}
	#			ALB = {
	#				transfer_state = PREV
	#			}
	#		}
	#		add_war_support = -0.15
	#		ai_chance = {
	#			base = 100
	#			modifier = {
	#				factor = 0
	#				has_global_flag = kis_firstbalkanwar_lose
	#			}
	#		}
	#	}
}
