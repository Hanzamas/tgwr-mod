add_namespace = ww1_war_raj

# Gandhi Returns to India
country_event = {
	id = ww1_war_raj.1
	title = ww1_war_raj.1.t
	desc = ww1_war_raj.1.d
	picture = GFX_report_gandhi
	fire_only_once = yes
	trigger = {
		tag = RAJ
        OR = {
            war_length_with = {
    		    tag = GER
    		    months > 5
		    }
            date > 1915.1.8
        }
	}
	option = {
		name = ww1_war_raj.1.a
		promote_character = RAJ_mohandas_karamchand_gandhi
        custom_effect_tooltip = RAJ_ghandi_return_option
		set_country_flag = gandhi_returned_to_india
		set_country_flag = {
    		flag = champaran_satyagraha_cooldown
    		days = 822
    		value = 1
		}
		set_country_flag = {
    		flag = kheda_satyagraha_cooldown
    		days = 1168
    		value = 1
		}
		set_country_flag = {
    		flag = buckingham_and_carnatic_mills_strike_cooldown
    		days = 2354
    		value = 1
		}

        hidden_effect = {
			country_event = {
				id = ww1_flavor_raj.18
                months = 2
				days = 22
				hours = 12
    			random_hours = 6
			}
		}
	}
}

# All-India Hindu Grand Assembly Formed (Supported by Gandhi)
country_event = {
	id = ww1_war_raj.2
	title = ww1_war_raj.2.t
	desc = ww1_war_raj.2.d
	picture = GFX_report_event_generic_indian_riots
	fire_only_once = yes
    is_triggered_only = yes
	option = {
		name = ww1_war_raj.2.a
		add_popularity = {
    		ideology = fascism
    		popularity = 0.05
		}
		add_popularity = {
    		ideology = democratic
    		popularity = 0.02
		}

		if = {
			limit = {
				has_idea = RAJ_indian_national_congress_low
			}
			swap_ideas = {
				remove_idea = RAJ_indian_national_congress_low
				add_idea = RAJ_indian_national_congress_medium
			}
		}
		else_if = {
			limit = {
				has_idea = RAJ_indian_national_congress_medium
			}
			swap_ideas = {
				remove_idea = RAJ_indian_national_congress_medium
				add_idea = RAJ_indian_national_congress_high
			}
		}
	}
}

# Champaran Satyagraha
country_event = {
	id = ww1_war_raj.3
	title = ww1_war_raj.3.t
	desc = ww1_war_raj.3.d
	picture = GFX_report_event_generic_indian_riots
	fire_only_once = yes
	trigger = {
		tag = RAJ
		is_subject_of = ENG
		NOT = { has_country_flag = champaran_satyagraha_cooldown }
		NOT = { has_country_flag = gandhi_arrested }
		has_country_flag = gandhi_returned_to_india
	}
	
	option = {
		name = ww1_war_raj.3.a
		add_stability = 0.05
		add_political_power = -75

		if = {
			limit = {
				has_idea = RAJ_indian_national_congress_high
			}
			swap_ideas = {
				remove_idea = RAJ_indian_national_congress_high
				add_idea = RAJ_indian_national_congress_medium
			}
		}
		else_if = {
			limit = {
				has_idea = RAJ_indian_national_congress_medium
			}
			swap_ideas = {
				remove_idea = RAJ_indian_national_congress_medium
				add_idea = RAJ_indian_national_congress_low
			}
		}

		if = {
			limit = {
				has_idea = RAJ_muslim_league_high
			}
			swap_ideas = {
				remove_idea = RAJ_muslim_league_high
				add_idea = RAJ_muslim_league_medium
			}
		}
		else_if = {
			limit = {
				has_idea = RAJ_muslim_league_medium
			}
			swap_ideas = {
				remove_idea = RAJ_muslim_league_medium
				add_idea = RAJ_muslim_league_low
			}
		}

		custom_effect_tooltip = RAJ_historical_choice
	}
	option = {
		name = ww1_war_raj.3.b
		add_popularity = {
			ideology = democratic
			popularity = -0.05
		}
		add_stability = -0.05

		if = {
			limit = {
				has_idea = RAJ_indian_national_congress_low
			}
			swap_ideas = {
				remove_idea = RAJ_indian_national_congress_low
				add_idea = RAJ_indian_national_congress_medium
			}
		}
		else_if = {
			limit = {
				has_idea = RAJ_indian_national_congress_medium
			}
			swap_ideas = {
				remove_idea = RAJ_indian_national_congress_medium
				add_idea = RAJ_indian_national_congress_high
			}
		}

		if = {
			limit = {
				has_idea = RAJ_muslim_league_low
			}
			swap_ideas = {
				remove_idea = RAJ_muslim_league_low
				add_idea = RAJ_muslim_league_medium
			}
		}
		else_if = {
			limit = {
				has_idea = RAJ_muslim_league_medium
			}
			swap_ideas = {
				remove_idea = RAJ_muslim_league_medium
				add_idea = RAJ_muslim_league_high
			}
		}	
	}
}

# Kheda Satyagraha
country_event = {
	id = ww1_war_raj.4
	title = ww1_war_raj.4.t
	desc = ww1_war_raj.4.d
	picture = GFX_report_event_indian_famine
	fire_only_once = yes
	trigger = {
		tag = RAJ
		is_subject_of = ENG
		NOT = { has_country_flag = kheda_satyagraha_cooldown }
		NOT = { has_country_flag = gandhi_arrested }
		has_country_flag = gandhi_returned_to_india
	}
	
	option = {
		name = ww1_war_raj.4.a
		add_stability = 0.05
		add_political_power = -75

		if = {
			limit = {
				has_idea = RAJ_indian_national_congress_high
			}
			swap_ideas = {
				remove_idea = RAJ_indian_national_congress_high
				add_idea = RAJ_indian_national_congress_medium
			}
		}
		else_if = {
			limit = {
				has_idea = RAJ_indian_national_congress_medium
			}
			swap_ideas = {
				remove_idea = RAJ_indian_national_congress_medium
				add_idea = RAJ_indian_national_congress_low
			}
		}

		if = {
			limit = {
				has_idea = RAJ_muslim_league_high
			}
			swap_ideas = {
				remove_idea = RAJ_muslim_league_high
				add_idea = RAJ_muslim_league_medium
			}
		}
		else_if = {
			limit = {
				has_idea = RAJ_muslim_league_medium
			}
			swap_ideas = {
				remove_idea = RAJ_muslim_league_medium
				add_idea = RAJ_muslim_league_low
			}
		}
	}
	option = {
		name = ww1_war_raj.4.b
		add_popularity = {
			ideology = democratic
			popularity = -0.05
		}
		add_stability = -0.05

		if = {
			limit = {
				has_idea = RAJ_indian_national_congress_low
			}
			swap_ideas = {
				remove_idea = RAJ_indian_national_congress_low
				add_idea = RAJ_indian_national_congress_medium
			}
		}
		else_if = {
			limit = {
				has_idea = RAJ_indian_national_congress_medium
			}
			swap_ideas = {
				remove_idea = RAJ_indian_national_congress_medium
				add_idea = RAJ_indian_national_congress_high
			}
		}

		if = {
			limit = {
				has_idea = RAJ_muslim_league_low
			}
			swap_ideas = {
				remove_idea = RAJ_muslim_league_low
				add_idea = RAJ_muslim_league_medium
			}
		}
		else_if = {
			limit = {
				has_idea = RAJ_muslim_league_medium
			}
			swap_ideas = {
				remove_idea = RAJ_muslim_league_medium
				add_idea = RAJ_muslim_league_high
			}
		}	
	}
}

# Rowlatt Hartal
country_event = {
	id = ww1_war_raj.5
	title = ww1_war_raj.5.t
	desc = ww1_war_raj.5.d
	picture = GFX_report_event_india_protests
	fire_only_once = yes
	trigger = {
		tag = RAJ
		is_subject_of = ENG
		NOT = { has_country_flag = gandhi_arrested }
		has_country_flag = gandhi_returned_to_india
		has_completed_focus = RAJ_rowlatt_act
	}
	option = {
		name = ww1_war_raj.5.a
		add_stability = -0.15

		if = {
			limit = {
				has_idea = RAJ_indian_national_congress_low
			}
			swap_ideas = {
				remove_idea = RAJ_indian_national_congress_low
				add_idea = RAJ_indian_national_congress_medium
			}
		}
		else_if = {
			limit = {
				has_idea = RAJ_indian_national_congress_medium
			}
			swap_ideas = {
				remove_idea = RAJ_indian_national_congress_medium
				add_idea = RAJ_indian_national_congress_high
			}
		}

		if = {
			limit = {
				has_idea = RAJ_muslim_league_low
			}
			swap_ideas = {
				remove_idea = RAJ_muslim_league_low
				add_idea = RAJ_muslim_league_medium
			}
		}
		else_if = {
			limit = {
				has_idea = RAJ_muslim_league_medium
			}
			swap_ideas = {
				remove_idea = RAJ_muslim_league_medium
				add_idea = RAJ_muslim_league_high
			}
		}	
	}
}

# Buckingham and Carnatic Mills strike
country_event = {
    id = ww1_war_raj.6
    title = ww1_war_raj.6.t
    desc = ww1_war_raj.6.d
    picture = GFX_report_event_generic_strike
    fire_only_once = yes
    trigger = {
		tag = RAJ
		is_subject_of = ENG
		NOT = { has_country_flag = buckingham_and_carnatic_mills_strike_cooldown }
		NOT = { has_country_flag = gandhi_arrested }
		has_country_flag = gandhi_returned_to_india
    }
    option = {
		name = ww1_war_raj.6.a
		add_stability = 0.05
		add_political_power = -75

		if = {
			limit = {
				has_idea = RAJ_indian_national_congress_high
			}
			swap_ideas = {
				remove_idea = RAJ_indian_national_congress_high
				add_idea = RAJ_indian_national_congress_medium
			}
		}
		else_if = {
			limit = {
				has_idea = RAJ_indian_national_congress_medium
			}
			swap_ideas = {
				remove_idea = RAJ_indian_national_congress_medium
				add_idea = RAJ_indian_national_congress_low
			}
		}

		if = {
			limit = {
				has_idea = RAJ_muslim_league_high
			}
			swap_ideas = {
				remove_idea = RAJ_muslim_league_high
				add_idea = RAJ_muslim_league_medium
			}
		}
		else_if = {
			limit = {
				has_idea = RAJ_muslim_league_medium
			}
			swap_ideas = {
				remove_idea = RAJ_muslim_league_medium
				add_idea = RAJ_muslim_league_low
			}
		}
	}
	option = {
		name = ww1_war_raj.6.b
		add_popularity = {
			ideology = democratic
			popularity = -0.05
		}
		add_stability = -0.05

		if = {
			limit = {
				has_idea = RAJ_indian_national_congress_low
			}
			swap_ideas = {
				remove_idea = RAJ_indian_national_congress_low
				add_idea = RAJ_indian_national_congress_medium
			}
		}
		else_if = {
			limit = {
				has_idea = RAJ_indian_national_congress_medium
			}
			swap_ideas = {
				remove_idea = RAJ_indian_national_congress_medium
				add_idea = RAJ_indian_national_congress_high
			}
		}

		if = {
			limit = {
				has_idea = RAJ_muslim_league_low
			}
			swap_ideas = {
				remove_idea = RAJ_muslim_league_low
				add_idea = RAJ_muslim_league_medium
			}
		}
		else_if = {
			limit = {
				has_idea = RAJ_muslim_league_medium
			}
			swap_ideas = {
				remove_idea = RAJ_muslim_league_medium
				add_idea = RAJ_muslim_league_high
			}
		}	
	}
}

# Option to transfer to Berlin Committee
country_event = {
    id = ww1_war_raj.7
    title = ww1_war_raj.7.t
    desc = ww1_war_raj.7.d
    picture = GFX_report_event_indian_soldiers
    fire_only_once = yes
    trigger = {
		tag = RAJ
		is_subject_of = ENG
		has_war_with = GER
    }
    option = {
		name = ww1_war_raj.7.a
		add_war_support = 0.05
	}
	option = {
		name = ww1_war_raj.7.b
		custom_effect_tooltip = RAJ_form_the_berlin_committee

		hidden_effect = {
			RIN = {
				set_state_owner = 440
				GER = { add_to_faction = RIN }
				become_exiled_in = {
					target = GER
				}
				declare_war_on = {
					target = RAJ
					type = take_core_state
				}
				change_tag_from = RAJ
			}
			RAJ = {
				every_core_state = {
					add_core_of = RIN
				}
				set_state_controller = 440
			}
		}
	}
}