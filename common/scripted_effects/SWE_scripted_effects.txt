SWE_increase_emigration = {
	# Old effect repurposed
	custom_effect_tooltip = adjust_emigration_problem_tt
	add_to_variable = {
		tooltip = monthly_population_tt
		var = SWE_emigration_monthly_population
		value = -0.03
	}
}
SWE_decrease_emigration = {
	custom_effect_tooltip = adjust_emigration_problem_tt
	add_to_variable = {
		tooltip = monthly_population_tt
		var = SWE_emigration_monthly_population
		value = 0.03
	}
}

SWE_set_kingly_approval = {
	if = {
		limit = {
			OR = {
				has_government = communism
				has_country_leader = {
					character = SWE_karl_staaff
					ruling_only = yes
				}
			}
		}
		if = {
			limit = { has_idea = SWE_gustaf_v }
			custom_effect_tooltip = replaces_current_gustaf_spirit_with
			swap_ideas = {
				add_idea = SWE_gustaf_v_opp
				remove_idea = SWE_gustaf_v
			}
		}
		else_if = {
			limit = { has_idea = SWE_gustaf_v_apr }
			custom_effect_tooltip = replaces_current_gustaf_spirit_with
			swap_ideas = {
				add_idea = SWE_gustaf_v_opp
				remove_idea = SWE_gustaf_v_apr
			}
		}
		else_if = {
			limit = { has_idea = SWE_gustaf_v_dis }
			custom_effect_tooltip = replaces_current_gustaf_spirit_with
			swap_ideas = {
				add_idea = SWE_gustaf_v_opp
				remove_idea = SWE_gustaf_v_dis
			}
		}
		else = {
			custom_effect_tooltip = keeps_gustaf_spirit_remains_the_same
			add_ideas = SWE_gustaf_v_opp
		}
	}
	else_if = {
		limit = {
			OR = {
				has_country_leader_ideology = conservatism
				has_country_leader_ideology = liberal_conservatism
				has_country_leader = {
					character = SWE_ernst_trygger
					ruling_only = yes
				}
				has_country_leader = {
					character = SWE_sven_hedin
					ruling_only = yes
				}
			}
		}
		if = {
			limit = { has_idea = SWE_gustaf_v }
			custom_effect_tooltip = replaces_current_gustaf_spirit_with
			swap_ideas = {
				add_idea = SWE_gustaf_v_apr
				remove_idea = SWE_gustaf_v
			}
		}
		else_if = {
			limit = { has_idea = SWE_gustaf_v_opp }
			custom_effect_tooltip = replaces_current_gustaf_spirit_with
			swap_ideas = {
				add_idea = SWE_gustaf_v_apr
				remove_idea = SWE_gustaf_v_opp
			}
		}
		else_if = {
			limit = { has_idea = SWE_gustaf_v_dis }
			custom_effect_tooltip = replaces_current_gustaf_spirit_with
			swap_ideas = {
				add_idea = SWE_gustaf_v_apr
				remove_idea = SWE_gustaf_v_dis
			}
		}
		else = {
			custom_effect_tooltip = keeps_gustaf_spirit_remains_the_same
			add_ideas = SWE_gustaf_v_apr
		}
	}
	else_if = {
		limit = {
			OR = {
				has_country_leader_ideology = social_liberalism
				has_country_leader_ideology = social_democracy
			}
		}
		if = {
			limit = { has_idea = SWE_gustaf_v }
			custom_effect_tooltip = replaces_current_gustaf_spirit_with
			swap_ideas = {
				add_idea = SWE_gustaf_v_dis
				remove_idea = SWE_gustaf_v
			}
		}
		else_if = {
			limit = { has_idea = SWE_gustaf_v_opp }
			custom_effect_tooltip = replaces_current_gustaf_spirit_with
			swap_ideas = {
				add_idea = SWE_gustaf_v_dis
				remove_idea = SWE_gustaf_v_opp
			}
		}
		else_if = {
			limit = { has_idea = SWE_gustaf_v_apr }
			custom_effect_tooltip = replaces_current_gustaf_spirit_with
			swap_ideas = {
				add_idea = SWE_gustaf_v_dis
				remove_idea = SWE_gustaf_v_apr
			}
		}
		else = {
			custom_effect_tooltip = keeps_gustaf_spirit_remains_the_same
			add_ideas = SWE_gustaf_v_dis
		}
	}
	else = {
		if = {
			limit = { has_idea = SWE_gustaf_v_dis }
			custom_effect_tooltip = replaces_current_gustaf_spirit_with
			swap_ideas = {
				add_idea = SWE_gustaf_v
				remove_idea = SWE_gustaf_v_dis
			}
		}
		else_if = {
			limit = { has_idea = SWE_gustaf_v_opp }
			custom_effect_tooltip = replaces_current_gustaf_spirit_with
			swap_ideas = {
				add_idea = SWE_gustaf_v
				remove_idea = SWE_gustaf_v_opp
			}
		}
		else_if = {
			limit = { has_idea = SWE_gustaf_v_apr }
			custom_effect_tooltip = replaces_current_gustaf_spirit_with
			swap_ideas = {
				add_idea = SWE_gustaf_v
				remove_idea = SWE_gustaf_v_apr
			}
		}
		else = {
			custom_effect_tooltip = keeps_gustaf_spirit_remains_the_same
			add_ideas = SWE_gustaf_v
		}
	}
}

SWE_increase_entente_point_amount = {
	if = {
		limit = {
			check_variable = { var = SWE_entente_points value = 1 }
		}
		add_to_variable = {
			var = SWE_entente_points
			value = 1
			tooltip = will_increase_entete_points_tt_alt
		}
	}
	else_if = {
		limit = {
			check_variable = { var = SWE_entente_points value = 1 compare = less_than }
		}
		custom_effect_tooltip = will_increase_entete_points_tt
		set_variable = { var = SWE_entente_points value = 1 }
	}
}

SWE_increase_cp_point_amount = {
	if = {
		limit = {
			check_variable = { var = SWE_cp_points value = 1 }
		}
		add_to_variable = {
			var = SWE_cp_points
			value = 1
			tooltip = will_increase_cp_points_tt_alt
		}
	}
	else_if = {
		limit = {
			check_variable = { var = SWE_cp_points value = 1 compare = less_than }
		}
		custom_effect_tooltip = will_increase_cp_points_tt
		set_variable = { var = SWE_cp_points value = 1 }
	}
}