on_actions = {
	on_peaceconference_ended = {
		effect = {
			if = {
				limit = {
					tag = FRA
					FROM = {
						tag = GER
					}					#loser
					has_global_flag = great_war
					NOT = {
						has_global_flag = great_war_ends
					}
				}
				set_global_flag = great_war_ends
				set_global_flag = versallies_treaty
				set_global_flag = GER_capitulation
				every_country = {
					limit = {
						OR = {
							tag = FROM
							is_subject_of = FROM
							AND = {
								is_in_faction_with = FROM
								NOT = {
									is_in_faction_with = ROOT
								}
							}
						}
						NOT = {
							has_country_flag = great_war_winner
						}
					}
					set_country_flag = great_war_loser
					add_ideas = idea_armistice
				}
				every_country = {
					limit = {
						OR = {
							tag = ROOT
							is_in_faction_with = ROOT
							is_subject_of = ROOT
						}
						NOT = {
							has_country_flag = great_war_loser
						}
					}
					set_country_flag = great_war_winner
					add_ideas = idea_armistice
				}
			}
			if = {
				limit = {
					tag = GER					#winner
					FROM = {
						tag = FRA
					}					#loser
					has_global_flag = great_war
					NOT = {
						has_global_flag = great_war_ends
					}
				}
				set_global_flag = great_war_ends
				set_global_flag = frankfurt_treaty
				set_global_flag = FRA_capitulation
				every_country = {
					limit = {
						OR = {
							tag = FROM
							is_subject_of = FROM
							AND = {
								is_in_faction_with = FROM
								NOT = {
									is_in_faction_with = ROOT
								}
							}
						}
						NOT = {
							has_country_flag = great_war_winner
						}
					}
					set_country_flag = great_war_loser
					add_ideas = idea_armistice
				}
				every_country = {
					limit = {
						OR = {
							tag = ROOT
							is_in_faction_with = ROOT
							is_subject_of = ROOT
						}
						NOT = {
							has_country_flag = great_war_loser
						}
					}
					set_country_flag = great_war_winner
					add_ideas = idea_armistice
				}
			}
			if = {
				limit = {
					original_tag = QIN					#winner
					FROM = {
						original_tag = CHI
					}					#loser
				}
				QIN = {
					annex_country = {
						target = CHI
					}
				}
				if = {
					limit = {
						NOT = {
							has_country_flag = xinhai_victory
							has_global_flag = xinhai_revolution_ends
						}
					}
					set_global_flag = xinhai_revolution_ends
					set_country_flag = xinhai_victory
					add_timed_idea = {
						idea = CHI_idea_xinhai_revolution_ends
						days = 720
					}
					news_event = {
						id = kis_news.119
					}
					add_ideas = CHI_idea_inflation5
					add_ideas = CHI_idea_army_corruption3
				}
				every_state = {
					limit = {
						is_core_of = CHI
					}
					remove_core_of = CHI
				}
			}
			if = {
				limit = {
					original_tag = CHI					#winner
					FROM = {
						original_tag = QIN
					}					#loser
				}
				CHI = {
					annex_country = {
						target = QIN
					}
				}
				if = {
					limit = {
						NOT = {
							has_country_flag = xinhai_victory
							has_global_flag = xinhai_revolution_ends
						}
					}
					set_global_flag = xinhai_revolution_ends
					add_timed_idea = {
						idea = CHI_idea_xinhai_revolution_ends
						days = 720
					}
					set_country_flag = xinhai_victory
					news_event = {
						id = kis_news.119
					}
					add_ideas = CHI_idea_inflation5
					add_ideas = CHI_idea_army_corruption3
					drop_cosmetic_tag = yes
					retire_ideology_leader = democratic
					create_country_leader = {
						name = "Sun Yat-sen"
						picture = "gfx/leaders/CHI/CHI_sun_wen.dds"
						expire = "1935.1.1"
						ideology = socialism
						traits = {
							trait_socialism
						}
					}
				}
				else_if = {
					limit = {
						has_global_flag = manchu_restoration
					}
					CHI = {
						set_capital = 608
					}
				}
				every_state = {
					limit = {
						is_core_of = QIN
					}
					remove_core_of = QIN
				}
			}
			if = {
				limit = {
					original_tag = SOV					#winner
					OR = {
						NOT = {
							has_completed_focus = SOV_truce_with_white_russia
						}
						has_completed_focus = SOV_its_time_to_unite
					}
					FROM = {
						original_tag = RUS
					}					#loser
				}
				SOV = {
					annex_country = {
						target = RUS
					}
					set_country_flag = russian_civil_war_winner
				}
				news_event = {
					id = rusrevolt.19
					days = 1
					hours = 3
				}
				set_global_flag = russian_civil_war_end
			}
			if = {
				limit = {
					original_tag = RUS					#winner
					FROM = {
						original_tag = SOV
					}					#loser
				}
				RUS = {
					annex_country = {
						target = SOV
					}
					set_country_flag = russian_civil_war_winner
				}
				news_event = {
					id = rusrevolt.19
					days = 1
					hours = 3
				}
				set_global_flag = russian_civil_war_end
			}
			# USB DEAD
			if = {
				limit = {
					OR = {
						original_tag = USA
						original_tag = CSA
					}
					FROM = {
						original_tag = USB
					}					#loser
				}
				annex_country = {
					target = FROM
				}
				set_country_flag = USB_defeated
				every_state = {
					limit = {
						is_claimed_by = FROM
					}
					remove_claim_by = FROM
					add_claim_by = ROOT
				}
				every_state = {
					limit = {
						is_core_of = FROM
					}
					remove_core_of = FROM
					add_core_of = ROOT
				}
			}
			# CSA DEAD
			if = {
				limit = {
					OR = {
						original_tag = USA
						original_tag = USB
					}
					FROM = {
						original_tag = CSA
					}					#loser
				}
				annex_country = {
					target = FROM
				}
				set_country_flag = CSA_defeated
				every_state = {
					limit = {
						is_claimed_by = FROM
					}
					remove_claim_by = FROM
					add_claim_by = ROOT
				}
				every_state = {
					limit = {
						is_core_of = FROM
					}
					remove_core_of = FROM
					add_core_of = ROOT
				}
			}
			# USA DEAD
			if = {
				limit = {
					OR = {
						original_tag = CSA
						original_tag = USB
					}
					FROM = {
						original_tag = USA
					}					#loser
				}
				annex_country = {
					target = FROM
				}
				set_country_flag = USA_defeated
				every_state = {
					limit = {
						is_claimed_by = FROM
					}
					remove_claim_by = FROM
					add_claim_by = ROOT
				}
				every_state = {
					limit = {
						is_core_of = FROM
					}
					remove_core_of = FROM
					add_core_of = ROOT
				}
			}
			if = {
				limit = {
					original_tag = GER					#winner
					FROM = {
						original_tag = AUH
					}					#loser
					has_global_flag = brothers_war
					NOT = {
						has_global_flag = brothers_war_ends
					}
					GER = {
						is_subject = no
					}
					AUH = {
						OR = {
							is_subject_of = GER
							is_subject = no
						}
					}
				}
				GER = {
					annex_country = {
						target = AUH
					}
					set_country_flag = brothers_war_winner
				}
				set_global_flag = brothers_war_ends
				every_state = {
					limit = {
						is_core_of = AUH
					}
					remove_core_of = AUH
				}
				if = {
					limit = {
						GAL = {
							exists = no
						}
					}
					every_state = {
						limit = {
							is_core_of = GAL
						}
						remove_core_of = GAL
					}
				}
				every_state = {
					limit = {
						OR = {
							state = 39
							state = 153
							state = 152
							state = 152
							state = 4
							state = 147
						}
					}
					add_core_of = AUS
				}
				every_country = {
					limit = {
						OR = {
							tag = WUK
							tag = POL
							tag = HUN
							tag = CZE
						}
						is_subject = no
						is_in_faction_with = GER
					}
					leave_faction = yes
				}
			}
			if = {
				limit = {
					original_tag = AUH
					FROM = {
						original_tag = HUN
					}
					AUH = {
						has_cosmetic_tag = AUH_EMP
						is_ai = yes
					}
					HUN = {
						OR = {
							is_subject_of = AUH
							is_subject = no
						}
					}
				}
				puppet = HUN
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = {
						target = HUN
						autonomous_state = autonomy_tgwr_crownland
					}
				}
				HUN = {
					set_politics = {
						ruling_party = neutrality
						elections_allowed = no
					}
				}
				every_state = {
					limit = {
						is_owned_by = AUH
						OR = {
							is_core_of = HUN
							is_core_of = TRA
						}
						NOT = {
							is_core_of = CRO
						}
					}
					HUN = {
						transfer_state = PREV
					}
				}
			}
			if = {
				limit = {
					original_tag = FRA
					has_country_flag = FRA_nationalist_france_flag
					FROM = {
						original_tag = FRA
						has_country_flag = FRA_socialist_france_flag
					}
				}
				annex_country = {
					target = FRC
				}
				if = {
					limit = {
						GER = {
							has_country_flag = germany_helped_nationalist_france
						}
					}
					if = {
						limit = {
							GER = {
								NOT = {
									owns_state = 17
								}
							}
						}
						GER = {
							transfer_state = 17
						}
					}
				}
			}
			if = {
				limit = {
					tag = TUR					#winner
					FROM = {
						tag = SER
					}					#loser
					has_global_flag = kis_firstbalkan_war
					NOT = {
						has_global_flag = kis_firstbalkanwar_victory
						has_global_flag = kis_firstbalkanwar_lose
					}
				}
				set_global_flag = kis_firstbalkanwar_lose
				SER = {
					remove_state_core = 106
					remove_state_core = 203
				}
			}
			if = {
				limit = {
					tag = TUR					#winner
					FROM = {
						tag = BUL
					}					#loser
					has_global_flag = kis_firstbalkan_war
					NOT = {
						has_global_flag = kis_firstbalkanwar_victory
						has_global_flag = kis_secondbalkan_war
					}
				}
				BUL = {
					add_ideas = BUL_idea_first_national_catastrophe
					add_timed_idea = {
						idea = BUL_idea_refugee_crisis
						days = 200
					}
				}
			}
			if = {
				limit = {
					original_tag = GDC
					FROM = {
						original_tag = GXC
					}
				}
				annex_country = {
					target = GXC
				}
			}
			if = {
				limit = {
					original_tag = GDC
					FROM = {
						original_tag = SDC
					}
				}
				annex_country = {
					target = SDC
				}
			}
			if = {
				limit = {
					tag = RUS
					has_country_leader = {
						id = 76262
						ruling_only = yes
					}
					has_war = no
				}
				retire_ideology_leader = neutrality
				create_country_leader = {
					name = "Nikolai II"
					id = 76261
					picture = "RUS_nicholas_romanov.dds"
					expire = "1935.1.1"
					ideology = autocracy
					traits = {
						inept_autocrat
					}
				}
			}
			if = {
				limit = {
					FROM = {
						tag = RUS
						has_country_leader = {
							id = 76262
							ruling_only = yes
						}
						has_war = no
					}
				}
				FROM = {
					retire_ideology_leader = neutrality
					create_country_leader = {
						name = "Nikolai II"
						id = 76261
						picture = "RUS_nicholas_romanov.dds"
						expire = "1935.1.1"
						ideology = autocracy
						traits = {
							inept_autocrat
						}
					}
				}
			}
		}
	}
	#ROOT is winner #FROM gets annexed
	on_annex = {
		effect = {
			if = {
				limit = {
					FROM = {
						tag = VLN
					}
				}
				every_state = {
					limit = {
						OR = {
							is_core_of = VLN
							is_claimed_by = VLN
						}
					}
					remove_core_of = VLN
					remove_claim_by = VLN
				}
			}
			if = {
				limit = {
					ROOT = {
						tag = SOV
					}
					FROM = {
						tag = RUS
					}
				}
				SOV = {
					annex_country = {
						target = DKB
						transfer_troops = no
					}
					annex_country = {
						target = SIB
						transfer_troops = no
					}
				}
				every_state = {
					limit = {
						OR = {
							is_core_of = RUS
							is_claimed_by = RUS
						}
					}
					remove_core_of = RUS
					remove_claim_by = RUS
				}
			}
			if = {
				limit = {
					ROOT = {
						tag = RUS
					}
					FROM = {
						tag = SOV
					}
				}
				RUS = {
					if = {
						limit = {
							TRM = {
								OR = {
									is_subject_of = SOV
									is_subject_of = RUS
									is_subject = no
								}
							}
						}
						annex_country = {
							target = TRM
							transfer_troops = no
						}
					}
				}
				every_state = {
					limit = {
						OR = {
							is_core_of = SOV
							is_claimed_by = SOV
						}
					}
					remove_core_of = SOV
					remove_claim_by = SOV
				}
			}
			every_country = {
				limit = {
					OR = {
						original_tag = RAJ
						original_tag = MAL
						original_tag = INS
						original_tag = VIN
					}
					is_subject = no
				}
				drop_cosmetic_tag = yes
			}
			if = {
				limit = {
					ROOT = {
						OR = {
							has_country_flag = ITA_republican_italy_flag
							has_country_flag = ITA_socialist_italy_flag
							has_country_flag = ITA_monarchist_italy_flag
						}
					}
					FROM = {
						OR = {
							has_country_flag = ITA_republican_italy_flag
							has_country_flag = ITA_socialist_italy_flag
							has_country_flag = ITA_monarchist_italy_flag
						}
					}
				}
				every_state = {
					limit = {
						OR = {
							is_core_of = FROM
							is_claimed_by = FROM
						}
					}
					remove_core_of = FROM
					remove_claim_by = FROM
				}
			}
			if = {
				limit = {
					ROOT = {
						OR = {
							has_country_flag = FRA_socialist_france_flag
							has_country_flag = FRA_nationalist_france_flag
						}
					}
					FROM = {
						OR = {
							has_country_flag = FRA_socialist_france_flag
							has_country_flag = FRA_nationalist_france_flag
						}
					}
				}
				every_state = {
					limit = {
						OR = {
							is_core_of = FROM
							is_claimed_by = FROM
						}
					}
					remove_core_of = FROM
					remove_claim_by = FROM
				}
			}
			if = {
				limit = {
					ROOT = {
						tag = AUH
					}
					FROM = {
						tag = HUN
					}
					AUH = {
						has_cosmetic_tag = AUH_EMP
					}
				}
				AUH = {
					drop_cosmetic_tag = yes
				}
			}
			if = {
				limit = {
					FROM = {
						has_country_flag = protectorate
					}
				}
				FROM = {
					clr_country_flag = protectorate
				}
			}
		}
	}
	on_new_term_election = {
		effect = {
			### Brazil ###
			if = {
				limit = {
					original_tag = BRA
				}
				country_event = ww1_brazil.1
				country_event = ww1_brazil.2
				country_event = ww1_brazil.3
				country_event = ww1_brazil.5
			}
			### Ecuador ###
			if = {
				limit = {
					original_tag = ECU
				}
				country_event = ww1_ecuador.5
				country_event = ww1_ecuador.6
			}
			### Argentina ###
			if = {
				limit = {
					original_tag = ARG
				}
				country_event = ww1_argentina.1
				country_event = ww1_argentina.3
			}
			if = {
				limit = {
					original_tag = TUR
				}
				country_event = ww1_ottoman.120
				country_event = ww1_ottoman.127
			}
		}
		# USA EVENTS	
		random_events = {
		}
	}
	on_subject_free = {
		effect = {
			#make sure Dominions lose the dominion tag
			if = {
				limit = {
					OR = {
						original_tag = RAJ
						original_tag = MAL
						original_tag = INS
						original_tag = VIN
						original_tag = MEX
						original_tag = USA
						original_tag = UKR
						original_tag = CHI
						original_tag = QIN
						original_tag = ENG
						original_tag = TUR
					}
				}
				drop_cosmetic_tag = yes
			}
			if = {
				limit = {
					TAG = INS
				}
				retire_country_leader = yes
			}
			if = {
				limit = {
					TAG = MAL
				}
				retire_country_leader = yes
			}
			if = {
				limit = {
					TAG = RAJ
				}
				retire_country_leader = yes
			}
			if = {
				limit = {
					TAG = VIN
				}
				retire_country_leader = yes
			}
			if = {
				limit = {
					original_tag = CMR
					has_country_leader = {
						name = "Paul von Lettow-Vorbeck"
					}
				}
				retire_country_leader = yes
			}
			if = {
				limit = {
					original_tag = BLR
					OR = {
						has_country_leader = {
							name = "Genrikh"
						}
						has_country_leader = {
							name = "Uladzimir"
						}
					}
				}
				drop_cosmetic_tag = yes
				retire_ideology_leader = neutrality
				set_party_name = {
					ideology = neutrality
					long_name = BLR_neutrality_party
					name = BLR_neutrality_party
				}
			}
			if = {
				limit = {
					OR = {
						original_tag = MEX
						original_tag = ENG
						original_tag = RUS
						original_tag = USA
						original_tag = CHI
						original_tag = QIN
						original_tag = MON
						original_tag = MEN
						original_tag = MAN
						original_tag = TRM
						original_tag = TAN
						original_tag = JAP
					}
					is_subject = no
				}
				abandon_puppet_tag = yes
			}
			if = {
				limit = {
					ROOT = {
						has_country_flag = protectorate
					}
				}
				clr_country_flag = protectorate
			}
		}
	}
	on_release_as_free = {
		effect = {
			if = {
				limit = {
					OR = {
						original_tag = RAJ
						original_tag = MAL
						original_tag = INS
						original_tag = VIN
					}
				}
				drop_cosmetic_tag = yes
			}
			if = {
				limit = {
					OR = {
						original_tag = MEX
						original_tag = ENG
						original_tag = RUS
						original_tag = USA
						original_tag = CHI
						original_tag = QIN
						original_tag = MON
						original_tag = MEN
						original_tag = MAN
						original_tag = TRM
						original_tag = TAN
						original_tag = JAP
					}
					is_subject = no
				}
				abandon_puppet_tag = yes
			}
			if = {
				limit = {
					ROOT = {
						has_country_flag = protectorate
					}
				}
				ROOT = {
					clr_country_flag = protectorate
				}
			}
			if = {
				limit = {
					has_cosmetic_tag = SOV_puppet
					FROM = {
						NOT = {
							original_tag = SOV
							has_cosmetic_tag = RUS_soviet
						}
					}
				}
				drop_cosmetic_tag = yes
			}
		}
	}
	#*evil laugh*
	on_puppet = {
		effect = {
			if = {
				limit = {
					OR = {
						original_tag = BLR
						original_tag = UKR
						original_tag = MOL
						original_tag = EST
						original_tag = LAT
						original_tag = LIT
						original_tag = COU
						original_tag = GEO
						original_tag = MOU
						original_tag = AZR
						original_tag = ARM
						original_tag = KBN
						original_tag = DKB
						original_tag = CRI
						original_tag = KAZ
						original_tag = TMS
						original_tag = SIB
						original_tag = FIN
						original_tag = GAL
						original_tag = WUK
						original_tag = TRM
						original_tag = UZB
						original_tag = TAJ
						original_tag = TRM
						original_tag = PER
					}
					NOT = {
						has_cosmetic_tag = SOV_puppet
						has_cosmetic_tag = GEO_TSCN_commissariat
						has_cosmetic_tag = GEO_TSCN
					}
					FROM = {
						OR = {
							original_tag = SOV
							has_cosmetic_tag = RUS_soviet
						}
						has_government = communism
					}
				}
				set_cosmetic_tag = SOV_puppet
			}
			if = {
				limit = {
					has_cosmetic_tag = SOV_puppet
					FROM = {
						NOT = {
							original_tag = SOV
						}
					}
				}
				drop_cosmetic_tag = yes
			}
			if = {
				limit = {
					original_tag = SOV
					FROM = {
						NOT = {
							has_government = communism
						}
					}
				}
				set_cosmetic_tag = RUS_republic_democratic
			}
			if = {
				limit = {
					original_tag = CAN
					is_subject_of = ENG
				}
				set_cosmetic_tag = CAN_UK
			}
			if = {
				limit = {
					original_tag = USA
					OR = {
						has_government = democratic
						has_government = neutrality
					}
					FROM = {
						tag = SER
					}
				}
				USA = {
					create_country_leader = {
						name = "Nikola Tesla"
						picture = "gfx/leaders/SER/SER_tesla.dds"
						expire = "1935.1.1"
						ideology = classical_liberalism
						traits = {
							tgwr_inventive_genius
							trait_classical_liberalism
						}
					}
					create_country_leader = {
						name = "Nikola Tesla"
						picture = "gfx/leaders/SER/SER_tesla.dds"
						expire = "1935.1.1"
						ideology = authoritarian_democracy
						traits = {
							tgwr_inventive_genius
							trait_authoritarian_democracy
						}
					}
				}
			}
			if = {
				limit = {
					original_tag = CAN
					FROM = {
						tag = USA
					}
				}
				set_cosmetic_tag = CAN_USA
			}
			if = {
				limit = {
					original_tag = ENG
					FROM = {
						tag = USA
					}
				}
				set_cosmetic_tag = ENG_USA
			}
			if = {
				limit = {
					original_tag = MEX
					FROM = {
						tag = ENG
					}
				}
				set_cosmetic_tag = MEX_ENG
			}
			if = {
				limit = {
					original_tag = USA
					FROM = {
						tag = ENG
					}
				}
				set_cosmetic_tag = USA_UK				#vanilla hoi4
			}
			if = {
				limit = {
					original_tag = USA
					FROM = {
						tag = GER
					}
				}
				USA = {
					set_cosmetic_tag = USA_GER
					create_country_leader = {
						name = "Charles John Hexamerk"
						picture = "gfx/leaders/USA/USA_Charles_John_Hexamer.dds"
						expire = "1935.1.1"
						ideology = oligarchism
						traits = {
							trait_oligarchism
						}
					}
				}
			}
			if = {
				limit = {
					original_tag = USA
					FROM = {
						tag = RUS
					}
				}
				set_cosmetic_tag = USA_RUS				#историческая справедливость
			}
			if = {
				limit = {
					original_tag = POL
					FROM = {
						tag = RUS
					}
					RUS = {
						NOT = {
							has_completed_focus = RUS_self_determination_of_nations
						}
					}
				}
				set_cosmetic_tag = POL_RUS
			}
			if = {
				limit = {
					original_tag = KAZ
					FROM = {
						tag = RUS
					}
					RUS = {
						NOT = {
							has_completed_focus = RUS_self_determination_of_nations
						}
					}
				}
				set_cosmetic_tag = KAZ_RUS
			}
			if = {
				limit = {
					original_tag = TMS
					FROM = {
						tag = RUS
					}
					RUS = {
						NOT = {
							has_completed_focus = RUS_self_determination_of_nations
						}
					}
				}
				set_cosmetic_tag = TMS_RUS
			}
			#China/Qing
			if = {
				limit = {
					OR = {
						original_tag = CHI
						original_tag = QIN
					}
					FROM = {
						tag = GER
					}
				}
				set_cosmetic_tag = CHI_GER
			}
			if = {
				limit = {
					OR = {
						original_tag = CHI
						original_tag = QIN
					}
					FROM = {
						tag = ENG
					}
				}
				set_cosmetic_tag = CHI_ENG
			}
			if = {
				limit = {
					OR = {
						original_tag = CHI
						original_tag = QIN
					}
					FROM = {
						tag = RUS
					}
				}
				set_cosmetic_tag = CHI_RUS
			}
			if = {
				limit = {
					OR = {
						original_tag = CHI
						original_tag = QIN
					}
					KOR = {
						has_cosmetic_tag = KOR_joseon
					}
					FROM = {
						tag = KOR
					}
				}
				set_cosmetic_tag = CHI_ming
			}
			if = {
				limit = {
					OR = {
						original_tag = CHI
						original_tag = QIN
					}
					NOT = {
						KOR = {
							has_cosmetic_tag = KOR_joseon
						}
					}
					FROM = {
						tag = KOR
					}
				}
				set_cosmetic_tag = CHI_KOR
			}
			#Turks
			if = {
				limit = {
					original_tag = TUR
					NOT = {
						has_country_flag = TUR_national_movement_tag
						has_cosmetic_tag = TUR_REP
						has_cosmetic_tag = TUR_ROM
					}
					FROM = {
						tag = RUS
					}
				}
				set_cosmetic_tag = TUR_RUS
			}
			if = {
				limit = {
					original_tag = BUL
					FROM = {
						tag = TUR
					}
				}
				set_cosmetic_tag = BUL_TUR
			}
			if = {
				limit = {
					original_tag = SER
					FROM = {
						tag = TUR
					}
				}
				set_cosmetic_tag = SER_TUR
			}
			if = {
				limit = {
					original_tag = GRE
					FROM = {
						tag = TUR
					}
				}
				set_cosmetic_tag = GRE_TUR
			}
			#Persia
			if = {
				limit = {
					original_tag = PER
					FROM = {
						tag = RUS
					}
				}
				set_cosmetic_tag = PER_RUS
			}
			if = {
				limit = {
					original_tag = PER
					FROM = {
						tag = ENG
					}
				}
				set_cosmetic_tag = PER_ENG
			}
			#Japan
			if = {
				limit = {
					original_tag = JAP
					NOT = {
						KOR = {
							has_cosmetic_tag = KOR_social
						}
					}
					NOT = {
						KOR = {
							has_cosmetic_tag = KOR_joseon
						}
					}
					FROM = {
						tag = KOR
					}
				}
				set_cosmetic_tag = JAP_KOR_original
			}
			if = {
				limit = {
					original_tag = JAP
					KOR = {
						has_cosmetic_tag = KOR_social
					}
					NOT = {
						KOR = {
							has_cosmetic_tag = KOR_joseon
						}
					}
					FROM = {
						tag = KOR
					}
				}
				set_cosmetic_tag = JAP_KOR_social
			}
			if = {
				limit = {
					original_tag = JAP
					NOT = {
						KOR = {
							has_cosmetic_tag = KOR_social
						}
					}
					KOR = {
						has_cosmetic_tag = KOR_joseon
					}
					FROM = {
						tag = KOR
					}
				}
				set_cosmetic_tag = JAP_KOR_joseon
			}
			#Manchuria
			if = {
				limit = {
					original_tag = MAN
					KOR = {
						has_cosmetic_tag = KOR_joseon
					}
					FROM = {
						tag = KOR
					}
				}
				set_cosmetic_tag = MAN_jurchen
			}
			#Transamur
			if = {
				limit = {
					original_tag = TRM
					KOR = {
						has_cosmetic_tag = KOR_joseon
					}
					FROM = {
						tag = KOR
					}
				}
				set_cosmetic_tag = TRM_jurchen
			}
			if = {
				limit = {
					original_tag = TRM
					NOT = {
						KOR = {
							has_cosmetic_tag = KOR_joseon
						}
					}
					FROM = {
						tag = KOR
					}
				}
				set_cosmetic_tag = TRM_KOR
			}
			if = {
				limit = {
					original_tag = TRM
					FROM = {
						tag = JAP
					}
				}
				set_cosmetic_tag = TRM_JAP
			}
			#Mengjiang
			if = {
				limit = {
					original_tag = MEN
					KOR = {
						has_cosmetic_tag = KOR_joseon
					}
					FROM = {
						tag = KOR
					}
				}
				set_cosmetic_tag = MEN_korchin
			}
			#Vietnam
			if = {
				limit = {
					original_tag = VIN
					NOT = {
						KOR = {
							has_cosmetic_tag = KOR_joseon
						}
					}
					FROM = {
						tag = KOR
					}
				}
				set_cosmetic_tag = VIN_KOR
			}
			#Tannu Tuva
			if = {
				limit = {
					original_tag = TAN
					KOR = {
						has_cosmetic_tag = KOR_joseon
					}
					FROM = {
						tag = KOR
					}
				}
				set_cosmetic_tag = TAN_oirat
			}
			if = {
				limit = {
					has_country_flag = ITA_republican_italy_flag
					FROM = {
						has_country_flag = ITA_monarchist_italy_flag
					}
				}
				ITS = {
					annex_country = {
						target = ROI
					}
				}
			}
			if = {
				limit = {
					has_country_flag = ITA_republican_italy_flag
					FROM = {
						has_country_flag = ITA_socialist_italy_flag
					}
				}
				SRI = {
					annex_country = {
						target = ROI
					}
				}
			}
			if = {
				limit = {
					has_country_flag = ITA_socialist_italy_flag
					FROM = {
						has_country_flag = ITA_republican_italy_flag
					}
				}
				ROI = {
					annex_country = {
						target = SRI
					}
				}
			}
			if = {
				limit = {
					has_country_flag = ITA_socialist_italy_flag
					FROM = {
						has_country_flag = ITA_monarchist_italy_flag
					}
				}
				ITS = {
					annex_country = {
						target = SRI
					}
				}
			}
			if = {
				limit = {
					tag = ITS
					FROM = {
						has_country_flag = ITA_republican_italy_flag
					}
				}
				ROI = {
					annex_country = {
						target = ITS
					}
				}
			}
			if = {
				limit = {
					tag = ITS
					FROM = {
						has_country_flag = ITA_socialist_italy_flag
					}
				}
				SRI = {
					annex_country = {
						target = ITS
					}
				}
			}
			if = {
				limit = {
					tag = FRC
					FROM = {
						tag = NFA
					}
				}
				NFA = {
					annex_country = {
						target = FRA
					}
				}
			}
			if = {
				limit = {
					tag = NFA
					FROM = {
						tag = FRC
					}
				}
				FRC = {
					annex_country = {
						target = NFA
					}
				}
			}
			if = {
				limit = {
					tag = FNG
					MAN = {
						is_subject_of = KOR
					}
					FROM = {
						tag = KOR
					}
				}
				MAN = {
					annex_country = {
						target = FNG
						transfer_troops = yes
					}
				}
			}
			if = {
				limit = {
					ROOT = {
						has_country_flag = protectorate
					}
				}
				ROOT = {
					clr_country_flag = protectorate
				}
			}
			if = {
				limit = {
					original_tag = QBC
					is_subject_of = FRA
					FRA = {
						has_cosmetic_tag = FRA_THIRD_EMPIRE
					}
					has_government = neutrality
				}
				set_cosmetic_tag = QBC_FRA_EMPIRE
			}
			if = {
				limit = {
					original_tag = QBC
					is_subject_of = FRA
					NOT = {
						FRA = {
							has_cosmetic_tag = FRA_THIRD_EMPIRE
						}
					}
					has_government = neutrality
				}
				set_cosmetic_tag = QBC_FRA_KINGDOM
			}
			if = {
				limit = {
					original_tag = USA
					FROM = {
						tag = FRA
					}
				}
				set_cosmetic_tag = USA_FRA
			}
			if = {
				limit = {
					tag = HUN
					FROM = {
						tag = AUH
					}
					NOT = {
						AUH = {
							has_cosmetic_tag = GER_confederation
							has_cosmetic_tag = GER_HRE
							has_cosmetic_tag = GER_suddeutscher_bund
						}
					}
				}
				AUH = {
					set_cosmetic_tag = AUH_EMP
				}
				if = {
					limit = {
						AUH = {
							has_government = neutrality
						}
					}
					HUN = {
						set_party_name = {
							ideology = neutrality
							long_name = AUH_neutrality_party_long
							name = AUH_neutrality_party
						}
						add_ideas = AUH_ww1_House_Habsburg_Lorraine
					}
				}
				if = {
					limit = {
						AUH = {
							has_country_leader = {
								name = "Franz Joseph I"
								ruling_only = yes
							}
						}
					}
					HUN = {
						create_country_leader = {
							name = "I. Ferenc József"
							picture = "gfx/leaders/AUH/AUH_franz_joseph_i.dds"
							expire = "1935.1.1"
							ideology = autocracy
							traits = {
								oldschool_kaiser
								trait_autocracy
							}
						}
					}
				}
				if = {
					limit = {
						AUH = {
							has_country_leader = {
								name = "Franz Ferdinand I"
								ruling_only = yes
							}
						}
					}
					HUN = {
						create_country_leader = {
							name = "I. Ferenc Ferdinánd"
							picture = "gfx/leaders/AUH/AUH_franz_ferdinand.dds"
							expire = "1935.1.1"
							ideology = autocracy
							traits = {
								unpopular_monarch
								trait_autocracy
							}
						}
					}
				}
				if = {
					limit = {
						AUH = {
							has_country_leader = {
								name = "Karl I"
								ruling_only = yes
							}
						}
					}
					HUN = {
						create_country_leader = {
							name = "IV. Károly"
							picture = "gfx/leaders/AUH/AUH_karl_i.dds"
							expire = "1935.1.1"
							ideology = autocracy
							traits = {
								trait_autocracy
							}
						}
					}
				}
			}
			if = {
				limit = {
					original_tag = VNC
					is_subject_of = AUH
				}
				set_cosmetic_tag = VNC_AUH
			}
			if = {
				limit = {
					original_tag = UKR
					is_subject_of = AUH
					has_government = neutrality
				}
				create_country_leader = {
					name = "Vasyl I"
					picture = "gfx/leaders/UKR/UKR_vasyl_habsburg.dds"
					expire = "1935.1.1"
					ideology = autocracy
					traits = {
						trait_autocracy
					}
				}
				set_cosmetic_tag = UKR_KNG
				set_party_name = {
					ideology = neutrality
					long_name = UKR_monarchy_party
					name = UKR_monarchy_party
				}
			}
			if = {
				limit = {
					original_tag = LIT
					OR = {
						is_subject_of = GER
						is_subject_of = AUH
					}
					has_government = neutrality
					if = {
						limit = {
							is_subject_of = GER
						}
						GER = {
							has_completed_focus = GER_puppet_kingdoms
						}
					}
					if = {
						limit = {
							is_subject_of = AUH
						}
						GER = {
							OR = {
								exists = no
								is_subject_of = AUH
							}
						}
					}
				}
				set_cosmetic_tag = LIT_GER
				create_country_leader = {
					name = "Mindaugas II"
					picture = "gfx/leaders/LIT_mindaugas_ii.png"
					expire = "1935.1.1"
					ideology = autocracy
					traits = {
						trait_autocracy
					}
				}
				set_party_name = {
					ideology = neutrality
					long_name = LIT_kingdom_party
					name = LIT_kingdom_party
				}
				set_country_flag = released_by_germany
			}
			if = {
				limit = {
					original_tag = LAT
					is_subject_of = GER
					has_government = neutrality
					GER = {
						has_completed_focus = GER_puppet_kingdoms
					}
				}
				UBD = {
					annex_country = {
						target = LAT
					}
				}
				every_state = {
					limit = {
						is_owned_by = UBD
						is_core_of = LAT
					}
					add_core_of = UBD
				}
				if = {
					limit = {
						NOT = {
							UBD = {
								is_subject_of = GER
							}
						}
					}
					GER = {
						puppet = UBD
					}
				}
			}
			if = {
				limit = {
					original_tag = EST
					is_subject_of = GER
					has_government = neutrality
					GER = {
						has_completed_focus = GER_puppet_kingdoms
					}
				}
				UBD = {
					annex_country = {
						target = EST
					}
				}
				every_state = {
					limit = {
						is_owned_by = UBD
						is_core_of = EST
					}
					add_core_of = UBD
				}
				if = {
					limit = {
						NOT = {
							UBD = {
								is_subject_of = GER
							}
						}
					}
					GER = {
						puppet = UBD
					}
				}
			}
			if = {
				limit = {
					original_tag = BLR
					OR = {
						is_subject_of = GER
						is_subject_of = AUH
					}
				}
				set_cosmetic_tag = BLR_WHR
				set_party_name = {
					ideology = neutrality
					long_name = GER_neutrality_party
					name = GER_neutrality_party
				}
				GER = {
					remove_unit_leader = 34038
				}
				if = {
					limit = {
						date < 1929.4.20
					}
					create_country_leader = {
						name = "Genrikh"
						picture = "gfx/leaders/GER/GER_Albert_Wilhelm_Heinrich.dds"
						expire = "1935.1.1"
						ideology = autocracy
						traits = {
							trait_autocracy
						}
					}
				}
				else = {
					create_country_leader = {
						name = "Uladzimir"
						picture = "gfx/leaders/BLR/BLR_waldemar.dds"
						expire = "1935.1.1"
						ideology = autocracy
						traits = {
							trait_autocracy
						}
					}
				}
			}
			if = {
				limit = {
					original_tag = FRA
					is_subject_of = GER
					NOT = {
						any_country = {
							has_cosmetic_tag = FRP
						}
					}
					GER = {
						OR = {
							has_government = neutrality
							AND = {
								has_government = democratic
								OR = {
									has_cosmetic_tag = GER_confederation
									has_cosmetic_tag = GER_kaiserreich_flag
								}
							}
						}
					}
				}
				set_cosmetic_tag = FRP
				set_politics = {
					ruling_party = neutrality
					elections_allowed = no
				}
				set_popularities = {
					democratic = 14
					neutrality = 52
					fascism = 34
					communism = 10
				}
				create_country_leader = {
					name = "Gouvernement Provisoire"
					picture = "gfx/leaders/FRA/FRA_provisional_government.dds"
					expire = "1935.1.1"
					ideology = conservatism
					traits = {
						trait_conservatism
					}
				}
				create_country_leader = {
					name = "Victoire"
					picture = "gfx/leaders/GER/GER_Victoria_Louise.dds"
					expire = "1935.1.1"
					ideology = autocracy
					female = yes
					traits = {
						victoria_iii
						german_agent
						foreign_leader
						trait_autocracy
					}
				}
				set_party_name = {
					ideology = neutrality
					long_name = GER_neutrality_party
					name = GER_neutrality_party
				}
			}
			if = {
				limit = {
					original_tag = POL
					is_subject_of = SOV
					has_government = communism
				}
				set_cosmetic_tag = POL_SOVIET
				create_country_leader = {
					name = "Felix Dzerzhinsky"
					picture = "gfx/leaders/POL/POL_felix_dzerzhinsky.dds"
					expire = "1935.1.1"
					ideology = vanguardism
					traits = {
						prince_of_terror
						trait_vanguardism
					}
				}
				set_party_name = {
					ideology = communism
					name = POL_polrewkom_party
					long_name = POL_polrewkom_party_long
				}
			}
		}
	}
	on_release_as_puppet = {
		effect = {
			if = {
				limit = {
					OR = {
						original_tag = BLR
						original_tag = UKR
						original_tag = MOL
						original_tag = EST
						original_tag = LAT
						original_tag = LIT
						original_tag = COU
						original_tag = GEO
						original_tag = MOU
						original_tag = AZR
						original_tag = ARM
						original_tag = KBN
						original_tag = DKB
						original_tag = CRI
						original_tag = KAZ
						original_tag = TMS
						original_tag = SIB
						original_tag = FIN
						original_tag = GAL
						original_tag = WUK
						original_tag = TRM
						original_tag = UZB
						original_tag = TAJ
						original_tag = TRM
						original_tag = PER
					}
					NOT = {
						has_cosmetic_tag = SOV_puppet
						has_cosmetic_tag = GEO_TSCN_commissariat
						has_cosmetic_tag = GEO_TSCN
					}
					FROM = {
						OR = {
							original_tag = SOV
							has_cosmetic_tag = RUS_soviet
						}						
						has_government = communism
					}
				}
				set_cosmetic_tag = SOV_puppet
			}
			if = {
				limit = {
					has_cosmetic_tag = SOV_puppet
					FROM = {
						NOT = {
							original_tag = SOV
						}
					}
				}
				drop_cosmetic_tag = yes
			}
			if = {
				limit = {
					original_tag = SOV
					FROM = {
						NOT = {
							has_government = communism
						}
					}
				}
				set_cosmetic_tag = RUS_republic_democratic
			}
			if = {
				limit = {
					original_tag = CMR
					has_government = neutrality
					NOT = {
						has_country_leader = {
							name = "Paul von Lettow-Vorbeck"
							ruling_only = yes
						}
					}
					is_subject_of = GER
					GER = {
						has_government = neutrality
					}
				}
				CMR = {
					create_country_leader = {
						name = "Paul von Lettow-Vorbeck"
						picture = "gfx/leaders/GER/GER_paul_lettow_vorbeck.dds"
						expire = "1935.1.1"
						ideology = despotism
						traits = {
							trait_despotism
						}
					}
				}
			}
			if = {
				limit = {
					original_tag = CAN
					is_subject_of = USA
				}
				set_cosmetic_tag = CAN_USA
			}
			if = {
				limit = {
					original_tag = ENG
					FROM = {
						tag = USA
					}
				}
				set_cosmetic_tag = ENG_USA
			}
			if = {
				limit = {
					original_tag = MEX
					is_subject_of = ENG
				}
				set_cosmetic_tag = MEX_ENG
			}
			if = {
				limit = {
					original_tag = USA
					is_subject_of = ENG
				}
				set_cosmetic_tag = USA_UK				#vanilla hoi4
			}
			if = {
				limit = {
					original_tag = USA
					FROM = {
						tag = GER
					}
				}
				USA = {
					set_cosmetic_tag = USA_GER
					create_country_leader = {
						name = "Charles John Hexamerk"
						picture = "gfx/leaders/USA/USA_Charles_John_Hexamer.dds"
						expire = "1935.1.1"
						ideology = oligarchism
						traits = {
							trait_oligarchism
						}
					}
				}
			}
			if = {
				limit = {
					original_tag = USA
					is_subject_of = RUS
				}
				set_cosmetic_tag = USA_RUS				#историческая справедливость
			}
			if = {
				limit = {
					original_tag = POL
					is_subject_of = RUS
					RUS = {
						NOT = {
							has_completed_focus = RUS_self_determination_of_nations
						}
					}
				}
				set_cosmetic_tag = POL_RUS
			}
			if = {
				limit = {
					original_tag = UKR
					is_subject_of = RUS
					RUS = {
						NOT = {
							has_completed_focus = RUS_self_determination_of_nations
						}
					}
				}
				set_cosmetic_tag = UKR_RUS
			}
			#China/Qing
			if = {
				limit = {
					OR = {
						original_tag = CHI
						original_tag = QIN
					}
					is_subject_of = GER
				}
				set_cosmetic_tag = CHI_GER
			}
			if = {
				limit = {
					OR = {
						original_tag = CHI
						original_tag = QIN
					}
					is_subject_of = ENG
				}
				set_cosmetic_tag = CHI_ENG
			}
			if = {
				limit = {
					OR = {
						original_tag = CHI
						original_tag = QIN
					}
					is_subject_of = RUS
				}
				set_cosmetic_tag = CHI_RUS
			}
			if = {
				limit = {
					OR = {
						original_tag = CHI
						original_tag = QIN
					}
					KOR = {
						has_cosmetic_tag = KOR_joseon
					}
					is_subject_of = KOR
				}
				set_cosmetic_tag = CHI_ming
			}
			if = {
				limit = {
					OR = {
						original_tag = CHI
						original_tag = QIN
					}
					NOT = {
						KOR = {
							has_cosmetic_tag = KOR_joseon
						}
					}
					is_subject_of = KOR
				}
				set_cosmetic_tag = CHI_KOR
			}
			#Turks
			if = {
				limit = {
					original_tag = TUR
					NOT = {
						has_country_flag = TUR_national_movement_tag
						has_cosmetic_tag = TUR_REP
						has_cosmetic_tag = TUR_ROM
					}
					is_subject_of = RUS
				}
				set_cosmetic_tag = TUR_RUS
			}
			if = {
				limit = {
					original_tag = BUL
					is_subject_of = TUR
				}
				set_cosmetic_tag = BUL_TUR
			}
			if = {
				limit = {
					original_tag = SER
					is_subject_of = TUR
				}
				set_cosmetic_tag = SER_TUR
			}
			if = {
				limit = {
					original_tag = GRE
					is_subject_of = TUR
				}
				set_cosmetic_tag = GRE_TUR
			}
			#Persia
			if = {
				limit = {
					original_tag = PER
					is_subject_of = RUS
				}
				set_cosmetic_tag = PER_RUS
			}
			if = {
				limit = {
					original_tag = PER
					is_subject_of = ENG
				}
				set_cosmetic_tag = PER_ENG
			}
			#Japan
			if = {
				limit = {
					original_tag = JAP
					NOT = {
						KOR = {
							has_cosmetic_tag = KOR_social
						}
					}
					NOT = {
						KOR = {
							has_cosmetic_tag = KOR_joseon
						}
					}
					is_subject_of = KOR
				}
				set_cosmetic_tag = JAP_KOR_original
			}
			if = {
				limit = {
					original_tag = JAP
					KOR = {
						has_cosmetic_tag = KOR_social
					}
					NOT = {
						KOR = {
							has_cosmetic_tag = KOR_joseon
						}
					}
					is_subject_of = KOR
				}
				set_cosmetic_tag = JAP_KOR_social
			}
			if = {
				limit = {
					original_tag = JAP
					NOT = {
						KOR = {
							has_cosmetic_tag = KOR_social
						}
					}
					KOR = {
						has_cosmetic_tag = KOR_joseon
					}
					is_subject_of = KOR
				}
				set_cosmetic_tag = JAP_KOR_joseon
			}
			#Manchuria
			if = {
				limit = {
					original_tag = MAN
					KOR = {
						has_cosmetic_tag = KOR_joseon
					}
					is_subject_of = KOR
				}
				set_cosmetic_tag = MAN_jurchen
			}
			#Transamur
			if = {
				limit = {
					original_tag = TRM
					KOR = {
						has_cosmetic_tag = KOR_joseon
					}
					is_subject_of = KOR
				}
				set_cosmetic_tag = TRM_jurchen
			}
			if = {
				limit = {
					original_tag = TRM
					NOT = {
						KOR = {
							has_cosmetic_tag = KOR_joseon
						}
					}
					is_subject_of = KOR
				}
				set_cosmetic_tag = TRM_KOR
			}
			if = {
				limit = {
					original_tag = TRM
					is_subject_of = JAP
				}
				set_cosmetic_tag = TRM_JAP
			}
			#Mengjiang
			if = {
				limit = {
					original_tag = MEN
					KOR = {
						has_cosmetic_tag = KOR_joseon
					}
					is_subject_of = KOR
				}
				set_cosmetic_tag = MEN_korchin
			}
			#Vietnam
			if = {
				limit = {
					original_tag = VIN
					NOT = {
						KOR = {
							has_cosmetic_tag = KOR_joseon
						}
					}
					is_subject_of = KOR
				}
				set_cosmetic_tag = VIN_KOR
			}
			#Tannu Tuva
			if = {
				limit = {
					original_tag = TAN
					KOR = {
						has_cosmetic_tag = KOR_joseon
					}
					is_subject_of = KOR
				}
				set_cosmetic_tag = TAN_oirat
			}
			if = {
				limit = {
					ROOT = {
						has_country_flag = protectorate
					}
				}
				ROOT = {
					clr_country_flag = protectorate
				}
			}
			if = {
				limit = {
					original_tag = QBC
					is_subject_of = FRA
					FRA = {
						has_cosmetic_tag = FRA_THIRD_EMPIRE
					}
					has_government = neutrality
				}
				set_cosmetic_tag = QBC_FRA_EMPIRE
			}
			if = {
				limit = {
					original_tag = QBC
					is_subject_of = FRA
					NOT = {
						FRA = {
							has_cosmetic_tag = FRA_THIRD_EMPIRE
						}
					}
					has_government = neutrality
				}
				set_cosmetic_tag = QBC_FRA_KINGDOM
			}
			if = {
				limit = {
					original_tag = USA
					is_subject_of = FRA
				}
				set_cosmetic_tag = USA_FRA
			}
			if = {
				limit = {
					tag = HUN
					is_subject_of = AUH
					NOT = {
						AUH = {
							has_cosmetic_tag = GER_confederation
							has_cosmetic_tag = GER_HRE
							has_cosmetic_tag = GER_suddeutscher_bund
						}
					}
				}
				AUH = {
					set_cosmetic_tag = AUH_EMP
				}
				if = {
					limit = {
						AUH = {
							has_government = neutrality
						}
					}
					HUN = {
						set_party_name = {
							ideology = neutrality
							long_name = AUH_neutrality_party_long
							name = AUH_neutrality_party
						}
						add_ideas = AUH_ww1_House_Habsburg_Lorraine
					}
				}
				if = {
					limit = {
						AUH = {
							has_country_leader = {
								name = "Franz Joseph I"
								ruling_only = yes
							}
						}
					}
					HUN = {
						create_country_leader = {
							name = "I. Ferenc József"
							picture = "gfx/leaders/AUH/AUH_franz_joseph_i.dds"
							expire = "1935.1.1"
							ideology = autocracy
							traits = {
								oldschool_kaiser
								trait_autocracy
							}
						}
					}
				}
				if = {
					limit = {
						AUH = {
							has_country_leader = {
								name = "Franz Ferdinand I"
								ruling_only = yes
							}
						}
					}
					HUN = {
						create_country_leader = {
							name = "I. Ferenc Ferdinánd"
							picture = "gfx/leaders/AUH/AUH_franz_ferdinand.dds"
							expire = "1935.1.1"
							ideology = autocracy
							traits = {
								unpopular_monarch
								trait_autocracy
							}
						}
					}
				}
				if = {
					limit = {
						AUH = {
							has_country_leader = {
								name = "Karl I"
								ruling_only = yes
							}
						}
					}
					HUN = {
						create_country_leader = {
							name = "IV. Károly"
							picture = "gfx/leaders/AUH/AUH_karl_i.dds"
							expire = "1935.1.1"
							ideology = autocracy
							traits = {
								trait_autocracy
							}
						}
					}
				}
			}
			if = {
				limit = {
					original_tag = VNC
					is_subject_of = AUH
				}
				set_cosmetic_tag = VNC_AUH
			}
			if = {
				limit = {
					original_tag = UKR
					is_subject_of = AUH
					has_government = neutrality
				}
				create_country_leader = {
					name = "Vasyl I"
					picture = "gfx/leaders/UKR/UKR_vasyl_habsburg.dds"
					expire = "1935.1.1"
					ideology = autocracy
					traits = {
						trait_autocracy
					}
				}
				set_cosmetic_tag = UKR_KNG
				set_party_name = {
					ideology = neutrality
					long_name = UKR_monarchy_party
					name = UKR_monarchy_party
				}
			}
			if = {
				limit = {
					original_tag = LIT
					OR = {
						is_subject_of = GER
						is_subject_of = AUH
					}
					has_government = neutrality
					if = {
						limit = {
							is_subject_of = GER
						}
						GER = {
							has_completed_focus = GER_puppet_kingdoms
						}
					}
					if = {
						limit = {
							is_subject_of = AUH
						}
						GER = {
							OR = {
								exists = no
								is_subject_of = AUH
							}
						}
					}
				}
				set_cosmetic_tag = LIT_GER
				create_country_leader = {
					name = "Mindaugas II"
					picture = "gfx/leaders/LIT_mindaugas_ii.png"
					expire = "1935.1.1"
					ideology = autocracy
					traits = {
						trait_autocracy
					}
				}
				set_party_name = {
					ideology = neutrality
					long_name = LIT_kingdom_party
					name = LIT_kingdom_party
				}
				set_country_flag = released_by_germany
			}
			if = {
				limit = {
					original_tag = LAT
					is_subject_of = GER
					has_government = neutrality
					GER = {
						has_completed_focus = GER_puppet_kingdoms
					}
				}
				UBD = {
					annex_country = {
						target = LAT
					}
				}
				every_state = {
					limit = {
						is_owned_by = UBD
						is_core_of = LAT
					}
					add_core_of = UBD
				}
				if = {
					limit = {
						NOT = {
							UBD = {
								is_subject_of = GER
							}
						}
					}
					GER = {
						puppet = UBD
					}
				}
			}
			if = {
				limit = {
					original_tag = EST
					is_subject_of = GER
					has_government = neutrality
					GER = {
						has_completed_focus = GER_puppet_kingdoms
					}
				}
				UBD = {
					annex_country = {
						target = EST
					}
				}
				every_state = {
					limit = {
						is_owned_by = UBD
						is_core_of = EST
					}
					add_core_of = UBD
				}
				if = {
					limit = {
						NOT = {
							UBD = {
								is_subject_of = GER
							}
						}
					}
					GER = {
						puppet = UBD
					}
				}
			}
			if = {
				limit = {
					original_tag = BLR
					OR = {
						is_subject_of = GER
						is_subject_of = AUH
					}
				}
				set_cosmetic_tag = BLR_WHR
				set_party_name = {
					ideology = neutrality
					long_name = GER_neutrality_party
					name = GER_neutrality_party
				}
				if = {
					limit = {
						date < 1929.4.20
					}
					create_country_leader = {
						name = "Genrikh"
						picture = "gfx/leaders/GER/GER_Albert_Wilhelm_Heinrich.dds"
						expire = "1935.1.1"
						ideology = autocracy
						traits = {
							trait_autocracy
						}
					}
				}
				else = {
					create_country_leader = {
						name = "Uladzimir"
						picture = "gfx/leaders/BLR/BLR_waldemar.dds"
						expire = "1935.1.1"
						ideology = autocracy
						traits = {
							trait_autocracy
						}
					}
				}
			}
			if = {
				limit = {
					original_tag = FRA
					is_subject_of = GER
					NOT = {
						any_country = {
							has_cosmetic_tag = FRP
						}
					}
					GER = {
						OR = {
							has_government = neutrality
							AND = {
								has_government = democratic
								OR = {
									has_cosmetic_tag = GER_confederation
									has_cosmetic_tag = GER_kaiserreich_flag
								}
							}
						}
					}
				}
				set_cosmetic_tag = FRP
				set_politics = {
					ruling_party = neutrality
					elections_allowed = no
				}
				set_popularities = {
					democratic = 14
					neutrality = 52
					fascism = 34
					communism = 10
				}
				create_country_leader = {
					name = "Gouvernement Provisoire"
					picture = "gfx/leaders/FRA/FRA_provisional_government.dds"
					expire = "1935.1.1"
					ideology = conservatism
					traits = {
						trait_conservatism
					}
				}
				create_country_leader = {
					name = "Victoire"
					picture = "gfx/leaders/GER/GER_Victoria_Louise.dds"
					expire = "1935.1.1"
					ideology = autocracy
					female = yes
					traits = {
						victoria_iii
						german_agent
						foreign_leader
						trait_autocracy
					}
				}
				set_party_name = {
					ideology = neutrality
					long_name = GER_neutrality_party
					name = GER_neutrality_party
				}
			}
			if = {
				limit = {
					original_tag = POL
					is_subject_of = SOV
					has_government = communism
				}
				set_cosmetic_tag = POL_SOVIET
				create_country_leader = {
					name = "Felix Dzerzhinsky"
					picture = "gfx/leaders/POL/POL_felix_dzerzhinsky.dds"
					expire = "1935.1.1"
					ideology = vanguardism
					traits = {
						prince_of_terror
						trait_vanguardism
					}
				}
				set_party_name = {
					ideology = communism
					name = POL_polrewkom_party
					long_name = POL_polrewkom_party_long
				}
			}
		}
	}
	on_startup = {
		effect = {
			#Effect to create 'territories' in Utah
			376 = {
				remove_core_of = MEX
			}
			377 = {
				remove_core_of = MEX
			}
			115 = {
				damage_building = {
					type = infrastructure
					damage = 1
				}
				damage_building = {
					type = naval_base
					damage = 1
					province = 4159
				}
				damage_building = {
					type = dockyard
					damage = 1
				}
			}
			AUH = {
				if = {
					limit = {
						has_game_rule = {
							rule = AUH_ai_behavior
							option = RANDOM
						}
					}
					random_list = {
						50 = { AUH = { set_country_flag = AUH_AI_HISTORICAL } }
						40 = { AUH = { set_country_flag = AUH_AI_RANDOM_FEDERALISM } }
					}
				}
			}
			BEL = {
				if = {
					limit = {
						has_game_rule = {
							rule = BEL_ai_behavior
							option = RANDOM
						}
					}
					random_list = {
						40 = { BRA = { set_country_flag = BEL_AI_DEMOCRATIC_HISTORICAL } }
						20 = { BRA = { set_country_flag = BEL_AI_DEMOCRATIC_LIBERAL } }
						20 = { BRA = { set_country_flag = BEL_AI_NEUTRALITY_MONARCHIST } }
						15 = { BRA = { set_country_flag = BEL_AI_DEMOCRATIC_SOCDEM } }
						5 = { BRA = { set_country_flag = BEL_AI_SOCIALIST } }
					}
				}
			}
			BRA = {
				if = {
					limit = {
						has_game_rule = {
							rule = BRA_ai_behavior
							option = RANDOM
						}
					}
					random_list = {
						30 = { BRA = { set_country_flag = BRA_AI_RANDOM_DEMOCRATIC_HISTORICAL } }
						17 = { BRA = { set_country_flag = BRA_AI_RANDOM_DEMOCRATIC_ALTERNATE } }
						33 = { BRA = { set_country_flag = BRA_AI_RANDOM_JUNTA } }
						33 = { BRA = { set_country_flag = BRA_AI_RANDOM_NEUTRALITY_MONARCHIST } }
					}
				}
			}
			ENG = {
				if = {
					limit = {
						has_game_rule = {
							rule = ENG_ai_behavior
							option = RANDOM
						}
					}
					random_list = {
						40 = { ENG = { set_country_flag = ENG_AI_DEMOCRATIC_HISTORICAL } }
						20 = { ENG = { set_country_flag = ENG_AI_RANDOM_COMMUNIST } }
						30 = { ENG = { set_country_flag = ENG_AI_RANDOM_NEUTRALITY } }
						20 = { ENG = { set_country_flag = ENG_AI_RANDOM_FASCIST } }
						15 = {
							random_list = {
								50 = { set_country_flag = ENG_AI_RANDOM_EDWARD }
								30 = { set_country_flag = ENG_AI_RANDOM_VICTORIA }
								15 = { set_country_flag = ENG_AI_RANDOM_AUWI }
							}
						}		
					}
				}
			}
			BUL = {
				if = {
					limit = {
						has_game_rule = {
							rule = BUL_ai_behavior
							option = RANDOM
						}
					}
					random_list = {
						40 = { BUL = { set_country_flag = BUL_AI_RANDOM_HISTORICAL } }
						20 = { BUL = { set_country_flag = BUL_AI_RANDOM_BORIS_III } }
						30 = { BUL = { set_country_flag = BUL_AI_RANDOM_LIBERALIST } }
						35 = {
							random_list = {
								50 = { set_country_flag = BUL_AI_RANDOM_AGRARIANIST }
								30 = { set_country_flag = BUL_AI_RANDOM_SOCILAIST }
								30 = { set_country_flag = BUL_AI_RANDOM_FASCIST }
							}
						}
					}
				}
			}
			GER = {
				if = {
					limit = {
						has_game_rule = {
							rule = GER_ai_behavior
							option = RANDOM
						}
					}
					random_list = {
						40 = { GER = { set_country_flag = GER_AI_RANDOM_HISTORICAL } }
						30 = { GER = { set_country_flag = GER_AI_RANDOM_DEMOCRATIC } }
						30 = { GER = { set_country_flag = GER_AI_RANDOM_BACKSTAB } }
					}
				}
			}
			HOL = {
				if = {
					limit = {
						has_game_rule = {
							rule = HOL_ai_behavior
							option = RANDOM
						}
					}
					random_list = {
						40 = { HOL = { set_country_flag = HOL_AI_RANDOM_HISTORICAL } }
						20 = { HOL = { set_country_flag = HOL_AI_RANDOM_DEMOCRATIC_ALTERNATE } }
						25 = { HOL = { set_country_flag = HOL_AI_RANDOM_SYNDICALIST } }
						35 = { HOL = { set_country_flag = HOL_AI_RANDOM_NEUTRALITY } }
					}
				}
			}
			TUR = {
				if = {
					limit = {
						has_game_rule = {
							rule = TUR_ai_behavior
							option = RANDOM
						}
					}
					random_list = {
						15 = { TUR = { set_country_flag = TUR_AI_UNITED_AND_READY } }
						15 = { TUR = { set_country_flag = TUR_AI_AUTOCRATIC } }
						10 = { TUR = { set_country_flag = TUR_AI_DEMOCRATIC } }
						20 = { TUR = { set_country_flag = TUR_AI_HISTORICAL_TRIUMVIRATE } }
						5 = { TUR = { set_country_flag = TUR_AI_ANTI_IMPERIALIST } }
						10 = { TUR = { set_country_flag = TUR_AI_ENVERIST } }
						5 = { TUR = { set_country_flag = TUR_AI_ISLAMIST } }
						5 = { TUR = { set_country_flag = TUR_AI_SOCIALIST } }
						15 = { TUR = { set_country_flag = TUR_AI_LIBERAL } }
					}
				}
			}
			RUS = {
				if = {
					limit = {
						has_game_rule = {
							rule = RUS_ai_behavior
							option = RANDOM
						}
					}
					random_list = {
						40 = { RUS = { set_country_flag = RUS_AI_RANDOM_HISTORICAL } }
						20 = { RUS = { set_country_flag = RUS_AI_RANDOM_KAISER } }
						30 = { RUS = { set_country_flag = RUS_AI_RANDOM_TSAR } }
						30 = { RUS = { set_country_flag = RUS_AI_RANDOM_DEMOCRATIC } }
						10 = { RUS = { set_country_flag = RUS_AI_RANDOM_COMMUNIST } }
					}
				}
			}
			CAN = {
				if = {
					limit = {
						has_game_rule = {
							rule = CAN_ai_behavior
							option = RANDOM
						}
					}
					random_list = {
						40 =  {CAN = { set_country_flag = CAN_AI_RANDOM_DEMOCRATIC_HISTORICAL } }
						30 = { CAN = { set_country_flag = CAN_AI_RANDOM_BRITISH_COMPROMISE } }
						20 = { CAN = { set_country_flag = CAN_AI_RANDOM_REPUBLICAN } }
						10 = { CAN = { set_country_flag = CAN_AI_RANDOM_MONARCHIST } }
					}
				}
			}
			ITA = {
				if = {
					limit = {
						has_game_rule = {
							rule = ITA_ai_behavior
							option = RANDOM
						}
					}
					random_list = {
						60 = { ITA = { set_country_flag = ITA_AI_RANDOM_HISTORICAL } }
						40 = { ITA = { set_country_flag = ITA_AI_RANDOM_CP } }
					}
				}
			}
			SWE = {
				if = {
					limit = {
						has_game_rule = {
							rule = SWE_ai_behavior
							option = RANDOM
						}
					}
					random_list = {
						30 = { SWE = { set_country_flag = SWE_AI_RANDOM_HISTORICAL } }
						20 = { SWE = { set_country_flag = SWE_AI_ENTENTE } }
						25 = { SWE = { set_country_flag = SWE_AI_CENTRAL_POWERS } }
						20 = { RUS = { set_country_flag = SWE_AI_MONARCHIST } }
						10 = { SWE = { set_country_flag = SWE_AI_FASCIST } }
						5 = { SWE = { set_country_flag = SWE_AI_SYNDICALIST } }
					}
				}
			}
			CHI = {
				if = {
					limit = {
						has_game_rule = {
							rule = CHI_ai_behavior
							option = RANDOM
						}
					}
					random_list = {
						60 = { CAN = { set_country_flag = CHI_AI_HISTORICAL } }
						40 = { CAN = { set_country_flag = CHI_AI_DEMOCRATIC } }
					}
				}
			}
			if = {
				limit = {
					has_game_rule = {
						rule = rule_russian_flag
						option = AHISTORICAL_RUSSIAN_FLAG
					}
				}
				RUS = {
					set_cosmetic_tag = RUS_ahistorical_flag
				}
			}
			if = {
				limit = {
					has_game_rule = {
						rule = rule_russian_flag
						option = IMPERIAL_RUSSIAN_FLAG
					}
				}
				RUS = {
					set_cosmetic_tag = RUS_absolutism
				}
			}
		}
	}
	on_capitulation = {
		effect = {
			if = {
				limit = {
					original_tag = PAR
					FROM = {
						original_tag = BRA
					}
					BOL = {
						has_war = no
						exists = yes
						owns_state = 487
					}
					PAR = {
						owns_state = 688
					}
				}
				BOL = {
					transfer_state = 688
				}
			}
			if = {
				limit = {
					OR = {
						tag = USA
						tag = CSA
						tag = USB
					}
					FROM = {
						OR = {
							tag = ENG
							is_subject_of = ENG
							AND = {
								ENG = {
									is_faction_leader = yes
								}
								is_in_faction_with = ENG
							}
						}
					}
				}
				ENG = {
					news_event = {
						id = eng_news.24
						hours = 5
					}
				}
			}
			if = {
				limit = {
					original_tag = QIN
					FROM = {
						original_tag = CHI
					}
					NOT = {
						has_country_flag = tibet_released
					}
				}
				every_state = {
					limit = {
						is_core_of = TIB
						OR = {
							is_owned_by = QIN
							is_owned_by = CHI
						}
					}
					TIB = {
						transfer_state = PREV
					}
				}
				set_country_flag = tibet_released
				if = {
					limit = {
						TIB = {
							OR = {
								is_subject_of = QIN
								is_subject_of = CHI
							}
						}
					}
					end_puppet = TIB
				}
			}
			if = {
				limit = {
					tag = LAT
					GER = {
						is_subject = no
					}
					LAT = {
						is_subject = no
						has_war_with = GER
						OR = {
							has_country_flag = LAT_iskolata
							has_cosmetic_tag = LAT_iskolata
						}
					}
					RUS = {
						has_war_with = GER
					}
				}
				LAT = {
					clr_country_flag = LAT_iskolata
					drop_cosmetic_tag = yes
					retire_ideology_leader = communism
					set_politics = {
						ruling_party = democratic
						elections_allowed = yes
					}
					set_rule = {
						can_join_factions = yes
					}
					set_popularities = {
						democratic = 50
						neutrality = 30
						fascism = 0
						communism = 20
					}
				}
				every_state = {
					limit = {
						is_owned_by = LAT
					}
					RUS = {
						transfer_state = PREV
					}
					GER = {
						set_state_controller = PREV
					}
				}
			}
			if = {
				limit = {
					tag = UOB
					UOB = {
						has_war_with = BRE
					}
				}
				every_country = {
					limit = {
						OR = {
							is_in_faction_with = UOB
							is_subject_of = UOB
						}
						has_war_with = BRE
					}
					white_peace = BRE
				}
				if = {
					limit = {
						UOB = {
							is_faction_leader = yes
						}
					}
					UOB = {
						dismantle_faction = yes
					}
				}
				BRE = {
					annex_country = {
						target = UOB
						transfer_troops = no
					}
				}
			}
			if = {
				limit = {
					tag = BRE
					BRE = {
						has_war_with = UOB
					}
				}
				every_country = {
					limit = {
						OR = {
							is_in_faction_with = BRE
							is_subject_of = BRE
							tag = CAN
							is_subject_of = CAN
							tag = AST
							is_subject_of = AST
							tag = NZL
							tag = ZIM
							tag = SAF
							tag = MAL
							tag = RAJ
							tag = NIR
						}
						has_war_with = UOB
					}
					white_peace = UOB
				}
				every_state = {
					limit = {
						OR = {
							is_core_of = BRE
							is_claimed_by = BRE
						}
					}
					remove_core_of = BRE
					remove_claim_by = BRE
				}
				if = {
					limit = {
						BRE = {
							is_faction_leader = yes
						}
					}
					BRE = {
						dismantle_faction = yes
					}
				}
				if = {
					limit = {
						has_war_with = IRE
					}
					country_event = ww1_england.8
				}
				UOB = {
					annex_country = {
						target = BRE
						transfer_troops = no
					}
					set_capital = 126
				}
				if = {
					limit = {
						NOT = {
							has_global_flag = British_Royals_flee_to_Canada
						}
					}
					CAN = {
						country_event = canada.69
					}
				}
			}
			if = {
				limit = {
					tag = ITA
					FROM = {
						tag = AUH
					}
					OR = {
						NOT = {
							has_global_flag = great_war
						}
						has_global_flag = interbellum
					}
				}
				ITA = {
					leave_faction = yes
					white_peace = AUH
				}
				AUH = {
					country_event = ww1_austria.29
				}
			}
			if = {
				limit = {
					tag = GER
					FROM = {
						tag = AUH
					}
					OR = {
						NOT = {
							has_global_flag = great_war
						}
						has_global_flag = interbellum
					}
				}
				set_global_flag = brothers_war_ends
				GER = {
					if = {
						limit = {
							is_in_faction_with = ITA
							AUH = {
								has_war_with = ITA
							}
						}
						if = {
							limit = {
								ITA = {
									is_major = yes
								}
							}
						}
						ITA = {
							set_faction_leader = yes
						}
						leave_faction = yes
						white_peace = AUH
					}
					else = {
						white_peace = AUH
						dismantle_faction = yes
						AUH = {
							country_event = ww1_austria.29
						}
					}
				}
				AUH = {
					country_event = ww1_austria.36
				}
			}
			if = {
				limit = {
					tag = AUH
					has_global_flag = brothers_war
					NOT = {
						has_global_flag = brothers_war_ends
					}
					GER = {
						is_subject = no
					}
					AUH = {
						is_subject = no
						has_war_with = GER
					}
				}
				if = {
					limit = {
						SLO = {
							exists = no
						}
						HUN = {
							has_war_with = AUH
						}
					}
					every_state = {
						limit = {
							is_owned_by = AUH
							is_core_of = SLO
						}
						HUN = {
							transfer_state = PREV
						}
					}
				}
				if = {
					limit = {
						CZE = {
							exists = no
						}
						any_state = {
							is_owned_by = AUH
							OR = {
								state = 9
								state = 75
							}
						}
					}
					every_state = {
						limit = {
							is_owned_by = AUH
							OR = {
								state = 9
								state = 75
							}
						}
						CZE = {
							transfer_state = PREV
							load_oob = CZE_1918
							set_global_flag = czechoslovakia_released
						}
					}
					CZE = {
						declare_war_on = {
							target = AUH
							type = civil_war
						}
					}
				}
				if = {
					limit = {
						CRO = {
							exists = no
						}
						any_state = {
							is_owned_by = AUH
							OR = {
								is_core_of = CRO
								is_core_of = BOS
								is_core_of = SER
							}
							NOT = {
								is_claimed_by = ITA
								is_core_of = ITA
							}
						}
					}
					every_state = {
						limit = {
							is_owned_by = AUH
							OR = {
								is_core_of = CRO
								is_core_of = BOS
								is_core_of = SER
							}
							NOT = {
								is_claimed_by = ITA
								is_core_of = ITA
							}
						}
						add_core_of = CRO
						CRO = {
							transfer_state = PREV
							load_oob = CRO_1918
							set_global_flag = croatia_released
							set_cosmetic_tag = CRO_SSCS
						}
					}
					every_state = {
						limit = {
							OR = {
								is_core_of = BOS
								is_core_of = SLV
							}
						}
						add_core_of = CRO
					}
					CRO = {
						declare_war_on = {
							target = AUH
							type = civil_war
						}
					}
				}
				if = {
					limit = {
						UKR = {
							OR = {
								has_capitulated = yes
								exists = no
							}
						}
						any_state = {
							OR = {
								is_owned_by = AUH
								is_owned_by = GAL
							}
							is_core_of = UKR
							NOT = {
								state = 237
							}
						}
						GAL = {
							OR = {
								exists = no
								is_subject_of = AUH
							}
						}
					}
					every_state = {
						limit = {
							OR = {
								is_owned_by = AUH
								is_owned_by = GAL
								is_owned_by = HUN
							}
							is_core_of = UKR
						}
						add_core_of = WUK
					}
					every_state = {
						limit = {
							OR = {
								is_owned_by = AUH
								is_owned_by = GAL
							}
							NOT = {
								state = 237
							}
							is_core_of = WUK
						}
						WUK = {
							transfer_state = PREV
						}
					}
					WUK = {
						declare_war_on = {
							target = AUH
							type = civil_war
						}
					}
				}
				if = {
					limit = {
						OR = {
							AUH = {
								owns_state = 80
							}
							GAL = {
								owns_state = 80
								is_subject_of = AUH
							}
						}
					}
					if = {
						limit = {
							ROM = {
								owns_state = 79
							}
						}
						ROM = {
							transfer_state = 80
						}
						else_if = {
							limit = {
								MOL = {
									owns_state = 79
								}
							}
							MOL = {
								transfer_state = 80
							}
							else_if = {
								limit = {
									WUK = {
										owns_state = 89
									}
								}
								WUK = {
									transfer_state = 80
								}
								else_if = {
									limit = {
										UKR = {
											owns_state = 89
										}
									}
									UKR = {
										transfer_state = 80
									}
									else_if = {
										limit = {
											TRA = {
												owns_state = 76
											}
										}
										TRA = {
											transfer_state = 80
										}
										else_if = {
											limit = {
												HUN = {
													exists = yes
												}
											}
											HUN = {
												transfer_state = 80
											}
										}
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						UKR = {
							exists = yes
							has_capitulated = no
						}
						any_state = {
							OR = {
								is_owned_by = AUH
								is_owned_by = GAL
							}
							NOT = {
								state = 237
							}
							is_core_of = UKR
						}
						GAL = {
							OR = {
								exists = no
								is_subject_of = AUH
							}
						}
					}
					every_state = {
						limit = {
							OR = {
								is_owned_by = AUH
								is_owned_by = GAL
							}
							is_core_of = UKR
						}
						UKR = {
							transfer_state = PREV
						}
					}
				}
				if = {
					limit = {
						any_state = {
							OR = {
								is_owned_by = AUH
								is_owned_by = GAL
							}
							is_core_of = POL
						}
						GAL = {
							OR = {
								exists = no
								is_subject_of = AUH
							}
						}
					}
					if = {
						limit = {
							POL = {
								exists = no
							}
						}
						every_state = {
							limit = {
								OR = {
									is_owned_by = AUH
									is_owned_by = GAL
								}
								is_core_of = POL
							}
							POL = {
								transfer_state = PREV
							}
						}
						POL = {
							set_politics = {
								ruling_party = communism
							}
							division_template = {
								name = "Bojówki"
								regiments = {
									infantry = {
										x = 0
										y = 0
									}
									infantry = {
										x = 0
										y = 1
									}
									infantry = {
										x = 0
										y = 2
									}
									infantry = {
										x = 0
										y = 3
									}
									infantry = {
										x = 1
										y = 0
									}
									infantry = {
										x = 1
										y = 1
									}
									infantry = {
										x = 1
										y = 2
									}
								}
							}
							random_owned_controlled_state = {
								limit = {
									is_core_of = POL
								}
								prioritize = {
									88
								}
								create_unit = {
									division = "name = \"Pułk Bojowników\" division_template = \"Bojówki\" start_experience_factor = 0.4"
									owner = PREV
								}
								create_unit = {
									division = "name = \"Pułk Bojowników\" division_template = \"Bojówki\" start_experience_factor = 0.4"
									owner = PREV
								}
								create_unit = {
									division = "name = \"Pułk Bojowników\" division_template = \"Bojówki\" start_experience_factor = 0.4"
									owner = PREV
								}
							}
							declare_war_on = {
								target = AUH
								type = civil_war
							}
						}
						else = {
							every_state = {
								limit = {
									OR = {
										is_owned_by = AUH
										is_owned_by = GAL
									}
									is_core_of = POL
								}
								POL = {
									transfer_state = PREV
								}
							}
						}
					}
				}
			}
			if = {
				limit = {
					tag = PRG
				}
				if = {
					limit = {
						ENG = {
							has_war_with = PRG
							is_subject = no
							NOT = {
								has_country_flag = great_war_loser
							}
						}
					}
					every_state = {
						limit = {
							is_owned_by = PRG
							is_claimed_by = ENG
						}
						ENG = {
							transfer_state = PREV
						}
					}
				}
				if = {
					limit = {
						RUS = {
							has_war_with = PRG
							is_subject = no
							NOT = {
								has_country_flag = great_war_loser
								has_war_with = SOV
							}
						}
					}
					every_state = {
						limit = {
							is_owned_by = PRG
							is_claimed_by = RUS
						}
						RUS = {
							transfer_state = PREV
						}
					}
				}
			}
		}
	}
	on_civil_war_end = {
		effect = {
			if = {
				limit = {
					original_tag = ECU
				}
				drop_cosmetic_tag = yes
				set_capital = 305
				if = {
					limit = {
						has_government = neutrality
					}
					set_politics = {
						ruling_party = neutrality
						elections_allowed = yes
					}
				}
			}
			if = {
				limit = {
					original_tag = FIN
					has_cosmetic_tag = FIN_red
					has_government = communism
				}
				set_cosmetic_tag = FIN_socialist
				set_capital = 305
			}
			remove_country_leader_trait = eng_civil_war_trait
		}
	}
	on_ruling_party_change = {
		effect = {			
			if = {
				limit = {
					has_government = communism
				}
				if = {
					limit = {
						any_unit_leader = {
							has_trait = trait_royal
						}
						NOT = {
							has_completed_focus = RUS_Soviet_Russia
							has_completed_focus = TUR_istirak_mukavemet
						}
					}
					every_unit_leader = {
						limit = {
							has_trait = trait_royal
						}
						retire = yes
					}
				}
				if = {
					limit = {
						original_tag = GER
						NOT = {
							has_cosmetic_tag = GER_socialism
						}
					}
					set_cosmetic_tag = GER_socialism
				}
				if = {
					limit = {
						original_tag = FRA
						NOT = {
							has_cosmetic_tag = FRA_socialism
							has_cosmetic_tag = NFA
						}
					}
					set_cosmetic_tag = FRA_socialism
				}
				if = {
					limit = {
						original_tag = ITA
						NOT = {
							has_cosmetic_tag = ITA_socialism
							has_cosmetic_tag = SRI
							has_cosmetic_tag = ROI
							has_cosmetic_tag = ITS
							has_cosmetic_tag = ITS_bourbon
						}
					}
					set_cosmetic_tag = ITA_socialism
				}
				if = {
					limit = {
						original_tag = RUS
						NOT = {
							has_cosmetic_tag = RUS_socialism
							has_cosmetic_tag = RUS_absolutism
							has_cosmetic_tag = RUS_eser
							has_cosmetic_tag = RUS_soviet
							has_country_leader = {
								name = "Vladimir Lenin"
								ruling_only = no
							}
						}
					}
					set_cosmetic_tag = RUS_socialism
				}
				if = {
					limit = {
						original_tag = RUS
						has_country_leader = {
							name = "Vladimir Lenin"
							ruling_only = yes
						}
					}
					set_cosmetic_tag = RUS_soviet
				}
				if = {
					limit = {
						original_tag = FIN
						NOT = {
							has_cosmetic_tag = FIN_socialist
							has_cosmetic_tag = FIN_red
							has_cosmetic_tag = SOV_puppet
						}
					}
					set_cosmetic_tag = FIN_socialist
				}
				if = {
					limit = {
						original_tag = HUN
						NOT = {
							has_cosmetic_tag = HUN_socialism
						}
					}
					set_cosmetic_tag = HUN_socialism
				}
				if = {
					limit = {
						original_tag = BAY
						NOT = {
							has_cosmetic_tag = BAY_socialism
							has_cosmetic_tag = BAY_germany
						}
					}
					set_cosmetic_tag = BAY_socialism
				}
				if = {
					limit = {
						original_tag = SOV
						has_cosmetic_tag = RUS_republic_democratic
					}
					drop_cosmetic_tag = yes
				}
				if = {
					limit = {
						original_tag = USA
						NOT = {
							has_cosmetic_tag = USA_CSA_only_color
							has_cosmetic_tag = USA_CSA
							has_cosmetic_tag = USA_ancap
							has_cosmetic_tag = USA_theocratic
							has_cosmetic_tag = USA_REBEL
							has_cosmetic_tag = USA_republicans
							has_cosmetic_tag = USA_democrats
							has_cosmetic_tag = USA_1776
							has_cosmetic_tag = USA_NAU
						}
					}
					set_cosmetic_tag = USA_socialist_color_only
				}
			}
			if = {
				limit = {
					NOT = {
						has_government = communism
					}
				}
				if = {
					limit = {
						OR = {
							has_cosmetic_tag = GER_socialism
							has_cosmetic_tag = FRA_socialism
							has_cosmetic_tag = ITA_socialism
							has_cosmetic_tag = FIN_socialist
							has_cosmetic_tag = FIN_red
							has_cosmetic_tag = SOV_puppet
							has_cosmetic_tag = TUR_SOC
							has_cosmetic_tag = BAY_socialism
							has_cosmetic_tag = LAT_iskolata
							has_cosmetic_tag = HUN_socialism
							has_cosmetic_tag = USA_socialist_color_only
							has_cosmetic_tag = USA_socialist
							has_cosmetic_tag = USB_socialist
							AND = {
								NOT = {
									has_government = democratic
								}
								has_cosmetic_tag = RUS_eser
							}
						}
					}
					drop_cosmetic_tag = yes
				}
				if = {
					limit = {
						OR = {
							has_cosmetic_tag = RUS_socialism
							has_cosmetic_tag = RUS_soviet
						}
						OR = {
							has_country_leader = {
								name = "Nikolai II"
								ruling_only = no
							}
							has_country_leader = {
								name = "Mikhail II"
								ruling_only = no
							}
						}
					}
					drop_cosmetic_tag = yes
				}
				if = {
					limit = {
						OR = {
							has_cosmetic_tag = RUS_socialism
							has_cosmetic_tag = RUS_soviet
						}						
						NOT = {
							has_country_leader = {
								name = "Nikolai II"
								ruling_only = no
							}
							has_country_leader = {
								name = "Mikhail II"
								ruling_only = no
							}
						}
					}
					set_cosmetic_tag = RUS_republic
				}
				if = {
					limit = {
						original_tag = FRA
						has_subject = BLE
					}
					end_puppet = BLE
				}
			}
			if = {
				limit = {
					has_government = fascism
				}
				if = {
					limit = {
						original_tag = FRA
						NOT = {
							has_cosmetic_tag = FRA_proto_fascism
							has_cosmetic_tag = NFA
							has_cosmetic_tag = FRA_THIRD_EMPIRE						
						}
					}
					set_cosmetic_tag = FRA_proto_fascism
				}
			}
			if = {
				limit = {
					NOT = {
						has_government = fascism
					}
				}
				if = {
					limit = {
						OR = {
							has_cosmetic_tag = FRA_proto_fascism
							has_cosmetic_tag = BUL_neutrality
							has_cosmetic_tag = TUR_ISLM
						}
					}
					drop_cosmetic_tag = yes
				}
			}
		}
	}
	on_join_faction = {
		effect = {
			if = {
				limit = {
					original_tag = BEL
					has_war = no
					NOT = {
						is_in_faction_with = ENG
						ENG = {
							has_completed_focus = ENG_Pax_Britannica
						}
					}
				}
				ENG = {
					country_event = ww1_england.165
				}
			}
		}
	}
	on_war = {
		effect = {
			# Check for puppets at war with their overlord
			if = {
				limit = {
					is_subject = yes
					any_enemy_country = {
						has_subject = ROOT
					}
				}
				overlord = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_free
					}
				}
			}
			if = {
				limit = {
					tag = RUS
					has_country_leader = {
						id = 76261
						ruling_only = yes
					}
					any_enemy_country = {
						OR = {
							is_major = yes
							original_tag = RUS
							original_tag = SOV
						}
					}
				}
				retire_ideology_leader = neutrality
				create_country_leader = {
					name = "Nikolai II"
					id = 76262
					picture = "RUS_nicholas_romanov_war.dds"
					expire = "1935.1.1"
					ideology = autocracy
					traits = {
						inept_autocrat
					}
				}
			}
			if = {
				limit = {
					tag = RUS
					has_war_with = FRA
					has_idea = free_trade
					FRA = {
						NOT = {
							has_country_flag = great_war_loser
						}
						is_major = yes
					}
				}
				swap_ideas = {
					remove_idea = free_trade
					add_idea = export_focus
				}
			}
			if = {
				limit = {
					tag = GER
					has_war_with = ENG
					has_idea = free_trade
					ENG = {
						NOT = {
							has_country_flag = great_war_loser
						}
						is_major = yes
					}
				}
				swap_ideas = {
					remove_idea = free_trade
					add_idea = export_focus
				}
			}
		}
	}
}
