add_namespace = ww1_liechtenstein

# Democratic Coup
country_event = {
	id = ww1_liechtenstein.1
	title = ww1_liechtenstein.1.t
	desc = ww1_liechtenstein.1.d
	picture = GFX_report_event_generic_parliament
	mean_time_to_happen = {
		days = 6
	}
	trigger = {
		tag = LIE
		has_government = neutrality
		AUH = {
			has_country_flag = great_war_loser
		}
	}
	fire_only_once = yes
	option = {
		name = ww1_liechtenstein.1.a
        promote_character = LIE_martin_ritter
        set_politics = {
			ruling_party = democratic
			long_name = LIE_CSVP_party_long
   			name = LIE_CSVP_party
            elections_allowed = yes
		}
        add_popularity = {
            ideology = democratic
            popularity = 0.60
        }
        add_political_power = -100
        add_ideas = {
            LIE_johann_ii
        }
		ai_chance = {
			base = 75
		}
	}
    option = {
		name = ww1_liechtenstein.1.b
        add_stability = -0.35
        add_popularity = {
            ideology = democratic
            popularity = -0.60
        }
		ai_chance = {
			base = 25
            modifier = {
			    factor = 0
                is_historical_focus_on = yes
		    }
		}
	}
}

# Custom Union with Swiss Instead Austria
country_event = {
	id = ww1_liechtenstein.2
	title = ww1_liechtenstein.2.t
	desc = ww1_liechtenstein.2.d
	picture = GFX_report_event_generic_conference
	trigger = {
		tag = LIE
		is_subject = no
		NOT = { has_government = communism }
		OR = {
			has_war_with = AUH
			has_war_with = AUS
			AUH = { has_country_flag = great_war_loser }
		}
		SWI = {
			is_subject = no
			is_neighbor_of = ROOT
			NOT = {
				has_government = communism
				has_war_with = ROOT
			}
		}
	}
	fire_only_once = yes
	option = {
		name = event_generic_ok
		if = {
			limit = {
				has_idea = LIE_custom_union_with_austria
			}
			remove_ideas = LIE_custom_union_with_austria
		}
		custom_effect_tooltip = agree_effect_tooltip
		effect_tooltip = {
			add_ideas = LIE_custom_union_with_switzerland
			SWI = {
				give_guarantee = ROOT
				add_political_power = 45
			}
		}
		custom_effect_tooltip = disagree_effect_tooltip
		effect_tooltip = {
			add_political_power = -125
			add_stability = -0.10
		}
		hidden_effect = {
			SWI = {
				country_event = {
					id = ww1_liechtenstein.3
					hours = 3
				}
			}
		}
	}
}

# Swiss answer for Custom Union
country_event = {
	id = ww1_liechtenstein.3
	title = ww1_liechtenstein.3.t
	desc = ww1_liechtenstein.3.d
	picture = GFX_report_event_generic_conference
	is_triggered_only = yes
	option = {
		name = event_generic_ok
		FROM = { add_ideas = LIE_custom_union_with_switzerland }
		give_guarantee = FROM
		add_political_power = 45
		ai_chance = {
			base = 50
		}
	}
	option = {
		name = ww1_liechtenstein.3.a
		FROM = {
			add_political_power = -125
			add_stability = -0.10
		}
		ai_chance = {
			base = 0
			modifier = {
				add = 10
				has_opinion = {
					target = FROM
					value < -25
				}
			}
			modifier = {
				add = 100
				has_opinion = {
					target = FROM
					value < -50
				}
			}
		}
	}
}