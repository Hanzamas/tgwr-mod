#Declaration of independence 
country_event = {
	id = ww1_albania.1
	title = ww1_albania.1.t
	desc = ww1_albania.1.d
	is_triggered_only = yes
	option = {
		name = ww1_albania.1.a

		add_political_power = 100
		add_stability = 0.1
		swap_ideas = {
			remove_idea = ALB_very_low_legitimacy
			add_idea = ALB_low_legitimacy
		}
	}
}
#Albanian War for Independence
country_event = {
	title = ww1_albania.7.t
	desc = ww1_albania.7.d
	id = ww1_albania.7
	picture = GFX_report_event_spr_civil_war_faction_defeated
	fire_only_once = yes
	mean_time_to_happen = {
		days = 10
	}
	trigger = {
		tag = TUR
		has_war = no
		NOT = {
			is_subject_of = TUR
		}
		any_owned_state = {
			is_core_of = ALB
			is_controlled_by = TUR
		}
		NOT = {
			country_exists = ALB
		}
		date > 1913.4.10
		any_state = {
			is_core_of = ALB
			has_dynamic_modifier = {
				modifier = TUR_albanian_minority
			}
		}
	}
	option = {
		name = ww1_albania.2.a
		every_owned_state = {
			limit = {
				OR = {
					state = 44
					state = 870
					state = 871
					state = 803
					state = 848
					state = 847
				}
				has_dynamic_modifier = {
					modifier = TUR_albanian_minority
				}
			}
			transfer_state_to = ALB
		}
		ALB = {
			hidden_effect = {
				division_template = {
					name = "Milicitë Shqiptare"
					regiments = {
						infantry = {
							x = 0
							y = 0
						}
						infantry = {
							x = 0
							y = 1
						}
						infantry = {
							x = 1
							y = 0
						}
						infantry = {
							x = 1
							y = 1
						}
					}
				}
				if = {
					limit = {
						44 = {
							has_dynamic_modifier = {
								modifier = TUR_albanian_minority
							}
						}
					}
					44 = {
						create_unit = {
							division = "division_template = \"Milicitë Shqiptare\" start_experience_factor = 0.1"
							owner = ALB
							allow_spawning_on_enemy_provs = yes
						}
						create_unit = {
							division = "division_template = \"Milicitë Shqiptare\" start_experience_factor = 0.1"
							owner = ALB
							allow_spawning_on_enemy_provs = yes
						}
					}
				}
				if = {
					limit = {
						803 = {
							has_dynamic_modifier = {
								modifier = TUR_albanian_minority
							}
						}
					}
					803 = {
						create_unit = {
							division = "division_template = \"Milicitë Shqiptare\" start_experience_factor = 0.1"
							owner = ALB
							allow_spawning_on_enemy_provs = yes
						}
					}
				}
				if = {
					limit = {
						871 = {
							has_dynamic_modifier = {
								modifier = TUR_albanian_minority
							}
						}
					}
					871 = {
						create_unit = {
							division = "division_template = \"Milicitë Shqiptare\" start_experience_factor = 0.1"
							owner = ALB
							allow_spawning_on_enemy_provs = yes
						}
					}
				}
				if = {
					limit = {
						44 = {
							NOT = {
								has_dynamic_modifier = {
									modifier = TUR_albanian_minority
								}
							}
						}
						803 = {
							NOT = {
								has_dynamic_modifier = {
									modifier = TUR_albanian_minority
								}
							}
						}
						871 = {
							NOT = {
								has_dynamic_modifier = {
									modifier = TUR_albanian_minority
								}
							}
						}
					}
					random_owned_state = {
						create_unit = {
							division = "division_template = \"Milicitë Shqiptare\" start_experience_factor = 0.1"
							owner = ALB
							allow_spawning_on_enemy_provs = yes
						}
					}
					random_owned_state = {
						create_unit = {
							division = "division_template = \"Milicitë Shqiptare\" start_experience_factor = 0.1"
							owner = ALB
							allow_spawning_on_enemy_provs = yes
						}
					}
				}
				# load_oob = ALB_1912
				every_owned_state = {
					add_claim_by = TUR
				}
			}
		}
		declare_war_on = {
			target = ALB
			type = annex_everything
		}
	}
}
#recognition
country_event = {
	id = ww1_albania.3
	title = ww1_albania.3.t
	desc = ww1_albania.3.d
	is_triggered_only = yes
	option = {
		name = ww1_albania.3.a
		ALB = {
			add_opinion_modifier = {
				target = PREV
				modifier = ALB_recognized_us
			}
		}
		give_guarantee = ALB
		add_political_power = -50
	}
	option = {
		name = ww1_albania.3.b
		add_political_power = 10
		ALB = {
			add_opinion_modifier = {
				target = PREV
				modifier = small_decrease
			}
		}
	}
}
#Trieste congress
country_event = {
	id = ww1_albania.4
	title = ww1_albania.4.t
	desc = ww1_albania.4.d
	is_triggered_only = yes
	option = {
		name = ww1_albania.4.a
		set_country_flag = german_prince
	}
	option = {
		name = ww1_albania.4.b
		set_country_flag = egyptian_prince
	}
	option = {
		name = ww1_albania.4.c
		set_country_flag = italian_prince
	}
}
#RCA spawn
country_event = {
	id = ww1_albania.5
	title = ww1_albania.5.t
	desc = ww1_albania.5.d
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			create_dynamic_country = {
				original_tag = ALB
				set_country_flag = central_albania_tag
				ALB = {
					ALB_essad_pasha_toptani = {
						set_nationality = RCA
					}
				}
				transfer_state = 44
				SER = {
					give_guarantee = RCA
				}
			}
		}
	}
}